import{j as ge,k as C,l as X,m as ze,g as xe,n as Re,p as G,q as Fe,r as R,s as $,v as Ve,x as ot,y as rt,z as me,A as Z,B as pe,C as ut,E as se,F as we,G as De,H as ye,I as dt,J as ct,K as ft,L as vt,M as mt,O as pt,P as yt,R as ht,S as _t,T as bt,U as Me,V as Ue,W as A,X as Se,_ as wt,Y as gt,c as v,o as c,w as e,a as t,b as Q,f as qe,Z as h,$ as I,t as E,a0 as Le,a1 as Ie,a2 as $e,a3 as he,d as M,a4 as xt,a5 as Ne}from"./index-BDIsTib7.js";import{Q as ne,a as kt,b as k,c as r,d as g}from"./QMenu-Y9ecyKC6.js";import{Q as At}from"./QSpace-DJ33t16g.js";import{Q as Oe}from"./QBadge-DYb_5Rt5.js";import{Q as Ct}from"./QTooltip-CdpBUp_R.js";import{Q as Y,a as Pt}from"./QBtnDropdown-B2W1Fc9M.js";import{Q as Be}from"./QImg-DGQecwny.js";import{Q as Dt}from"./QResizeObserver-S8PdSXyr.js";import{Q as ee}from"./QExpansionItem-Ccc9drb8.js";import{g as Qe,s as Ee}from"./touch-BjYP5sR0.js";import{c as Mt,b as ie}from"./format-2R-M0Lci.js";import{Q as St,a as qt}from"./QLayout-B7C7vs3O.js";import{C as P}from"./ClosePopup-DLjuPgyw.js";import"./QBtnGroup-CUjCDuqK.js";const Lt=ge({name:"QToolbar",props:{inset:Boolean},setup(l,{slots:u}){const m=C(()=>"q-toolbar row no-wrap items-center"+(l.inset===!0?" q-toolbar--inset":""));return()=>X("div",{class:m.value,role:"toolbar"},ze(u.default))}}),It=ge({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(l,{slots:u,emit:m}){const{proxy:{$q:q}}=xe(),a=Re(Fe,G);if(a===G)return console.error("QHeader needs to be child of QLayout"),G;const i=R(parseInt(l.heightHint,10)),p=R(!0),D=C(()=>l.reveal===!0||a.view.value.indexOf("H")!==-1||q.platform.is.ios&&a.isContainer.value===!0),_=C(()=>{if(l.modelValue!==!0)return 0;if(D.value===!0)return p.value===!0?i.value:0;const d=i.value-a.scroll.value.position;return d>0?d:0}),y=C(()=>l.modelValue!==!0||D.value===!0&&p.value!==!0),o=C(()=>l.modelValue===!0&&y.value===!0&&l.reveal===!0),B=C(()=>"q-header q-layout__section--marginal "+(D.value===!0?"fixed":"absolute")+"-top"+(l.bordered===!0?" q-header--bordered":"")+(y.value===!0?" q-header--hidden":"")+(l.modelValue!==!0?" q-layout--prevent-focus":"")),N=C(()=>{const d=a.rows.value.top,O={};return d[0]==="l"&&a.left.space===!0&&(O[q.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),d[2]==="r"&&a.right.space===!0&&(O[q.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),O});function S(d,O){a.update("header",d,O)}function w(d,O){d.value!==O&&(d.value=O)}function f({height:d}){w(i,d),S("size",d)}function s(d){o.value===!0&&w(p,!0),m("focusin",d)}$(()=>l.modelValue,d=>{S("space",d),w(p,!0),a.animate()}),$(_,d=>{S("offset",d)}),$(()=>l.reveal,d=>{d===!1&&w(p,l.modelValue)}),$(p,d=>{a.animate(),m("reveal",d)}),$(a.scroll,d=>{l.reveal===!0&&w(p,d.direction==="up"||d.position<=l.revealOffset||d.position-d.inflectionPoint<100)});const x={};return a.instances.header=x,l.modelValue===!0&&S("size",i.value),S("space",l.modelValue),S("offset",_.value),Ve(()=>{a.instances.header===x&&(a.instances.header=void 0,S("size",0),S("offset",0),S("space",!1))}),()=>{const d=ot(u.default,[]);return l.elevated===!0&&d.push(X("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),d.push(X(Dt,{debounce:0,onResize:f})),X("header",{class:B.value,style:N.value,onFocusin:s},d)}}});function _e(l,u,m){const q=we(l);let a,i=q.left-u.event.x,p=q.top-u.event.y,D=Math.abs(i),_=Math.abs(p);const y=u.direction;y.horizontal===!0&&y.vertical!==!0?a=i<0?"left":"right":y.horizontal!==!0&&y.vertical===!0?a=p<0?"up":"down":y.up===!0&&p<0?(a="up",D>_&&(y.left===!0&&i<0?a="left":y.right===!0&&i>0&&(a="right"))):y.down===!0&&p>0?(a="down",D>_&&(y.left===!0&&i<0?a="left":y.right===!0&&i>0&&(a="right"))):y.left===!0&&i<0?(a="left",D<_&&(y.up===!0&&p<0?a="up":y.down===!0&&p>0&&(a="down"))):y.right===!0&&i>0&&(a="right",D<_&&(y.up===!0&&p<0?a="up":y.down===!0&&p>0&&(a="down")));let o=!1;if(a===void 0&&m===!1){if(u.event.isFirst===!0||u.event.lastDir===void 0)return{};a=u.event.lastDir,o=!0,a==="left"||a==="right"?(q.left-=i,D=0,i=0):(q.top-=p,_=0,p=0)}return{synthetic:o,payload:{evt:l,touch:u.event.mouse!==!0,mouse:u.event.mouse===!0,position:q,direction:a,isFirst:u.event.isFirst,isFinal:m===!0,duration:Date.now()-u.event.time,distance:{x:D,y:_},offset:{x:i,y:p},delta:{x:q.left-u.event.lastX,y:q.top-u.event.lastY}}}}let $t=0;const be=rt({name:"touch-pan",beforeMount(l,{value:u,modifiers:m}){if(m.mouse!==!0&&Z.has.touch!==!0)return;function q(i,p){m.mouse===!0&&p===!0?ct(i):(m.stop===!0&&ye(i),m.prevent===!0&&De(i))}const a={uid:"qvtp_"+$t++,handler:u,modifiers:m,direction:Qe(m),noop:ut,mouseStart(i){Ee(i,a)&&dt(i)&&(se(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(i,!0))},touchStart(i){if(Ee(i,a)){const p=i.target;se(a,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","passiveCapture"],[p,"touchend","end","passiveCapture"]]),a.start(i)}},start(i,p){if(Z.is.firefox===!0&&pe(l,!0),a.lastEvt=i,p===!0||m.stop===!0){if(a.direction.all!==!0&&(p!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const y=i.type.indexOf("mouse")!==-1?new MouseEvent(i.type,i):new TouchEvent(i.type,i);i.defaultPrevented===!0&&De(y),i.cancelBubble===!0&&ye(y),Object.assign(y,{qKeyEvent:i.qKeyEvent,qClickOutside:i.qClickOutside,qAnchorHandled:i.qAnchorHandled,qClonedBy:i.qClonedBy===void 0?[a.uid]:i.qClonedBy.concat(a.uid)}),a.initialEvent={target:i.target,event:y}}ye(i)}const{left:D,top:_}=we(i);a.event={x:D,y:_,time:Date.now(),mouse:p===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:D,lastY:_}},move(i){if(a.event===void 0)return;const p=we(i),D=p.left-a.event.x,_=p.top-a.event.y;if(D===0&&_===0)return;a.lastEvt=i;const y=a.event.mouse===!0,o=()=>{q(i,y);let S;m.preserveCursor!==!0&&m.preservecursor!==!0&&(S=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),y===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Mt(),a.styleCleanup=w=>{if(a.styleCleanup=void 0,S!==void 0&&(document.documentElement.style.cursor=S),document.body.classList.remove("non-selectable"),y===!0){const f=()=>{document.body.classList.remove("no-pointer-events--children")};w!==void 0?setTimeout(()=>{f(),w()},50):f()}else w!==void 0&&w()}};if(a.event.detected===!0){a.event.isFirst!==!0&&q(i,a.event.mouse);const{payload:S,synthetic:w}=_e(i,a,!1);S!==void 0&&(a.handler(S)===!1?a.end(i):(a.styleCleanup===void 0&&a.event.isFirst===!0&&o(),a.event.lastX=S.position.left,a.event.lastY=S.position.top,a.event.lastDir=w===!0?void 0:S.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||y===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){o(),a.event.detected=!0,a.move(i);return}const B=Math.abs(D),N=Math.abs(_);B!==N&&(a.direction.horizontal===!0&&B>N||a.direction.vertical===!0&&B<N||a.direction.up===!0&&B<N&&_<0||a.direction.down===!0&&B<N&&_>0||a.direction.left===!0&&B>N&&D<0||a.direction.right===!0&&B>N&&D>0?(a.event.detected=!0,a.move(i)):a.end(i,!0))},end(i,p){if(a.event!==void 0){if(me(a,"temp"),Z.is.firefox===!0&&pe(l,!1),p===!0)a.styleCleanup?.(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(_e(i===void 0?a.lastEvt:i,a).payload);const{payload:D}=_e(i===void 0?a.lastEvt:i,a,!0),_=()=>{a.handler(D)};a.styleCleanup!==void 0?a.styleCleanup(_):_()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(l.__qtouchpan=a,m.mouse===!0){const i=m.mouseCapture===!0||m.mousecapture===!0?"Capture":"";se(a,"main",[[l,"mousedown","mouseStart",`passive${i}`]])}Z.has.touch===!0&&se(a,"main",[[l,"touchstart","touchStart",`passive${m.capture===!0?"Capture":""}`],[l,"touchmove","noop","notPassiveCapture"]])},updated(l,u){const m=l.__qtouchpan;m!==void 0&&(u.oldValue!==u.value&&(typeof value!="function"&&m.end(),m.handler=u.value),m.direction=Qe(u.modifiers))},beforeUnmount(l){const u=l.__qtouchpan;u!==void 0&&(u.event!==void 0&&u.end(),me(u,"main"),me(u,"temp"),Z.is.firefox===!0&&pe(l,!1),u.styleCleanup?.(),delete l.__qtouchpan)}}),Te=150,Nt=ge({name:"QDrawer",inheritAttrs:!1,props:{...mt,...vt,side:{type:String,default:"left",validator:l=>["left","right"].includes(l)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:l=>["default","desktop","mobile"].includes(l),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...ft,"onLayout","miniState"],setup(l,{slots:u,emit:m,attrs:q}){const a=xe(),{proxy:{$q:i}}=a,p=pt(l,i),{preventBodyScroll:D}=bt(),{registerTimeout:_,removeTimeout:y}=yt(),o=Re(Fe,G);if(o===G)return console.error("QDrawer needs to be child of QLayout"),G;let B,N=null,S;const w=R(l.behavior==="mobile"||l.behavior!=="desktop"&&o.totalWidth.value<=l.breakpoint),f=C(()=>l.mini===!0&&w.value!==!0),s=C(()=>f.value===!0?l.miniWidth:l.width),x=R(l.showIfAbove===!0&&w.value===!1?!0:l.modelValue===!0),d=C(()=>l.persistent!==!0&&(w.value===!0||Xe.value===!0));function O(n,b){if(He(),n!==!1&&o.animate(),z(0),w.value===!0){const T=o.instances[ae.value];T?.belowBreakpoint===!0&&T.hide(!1),H(1),o.isContainer.value!==!0&&D(!0)}else H(0),n!==!1&&ce(!1);_(()=>{n!==!1&&ce(!0),b!==!0&&m("show",n)},Te)}function L(n,b){We(),n!==!1&&o.animate(),H(0),z(K.value*s.value),fe(),b!==!0?_(()=>{m("hide",n)},Te):y()}const{show:F,hide:V}=ht({showing:x,hideOnRouteChange:d,handleShow:O,handleHide:L}),{addToHistory:He,removeFromHistory:We}=_t(x,V,d),te={belowBreakpoint:w,hide:V},U=C(()=>l.side==="right"),K=C(()=>(i.lang.rtl===!0?-1:1)*(U.value===!0?1:-1)),ke=R(0),j=R(!1),oe=R(!1),Ae=R(s.value*K.value),ae=C(()=>U.value===!0?"left":"right"),re=C(()=>x.value===!0&&w.value===!1&&l.overlay===!1?l.miniToOverlay===!0?l.miniWidth:s.value:0),ue=C(()=>l.overlay===!0||l.miniToOverlay===!0||o.view.value.indexOf(U.value?"R":"L")!==-1||i.platform.is.ios===!0&&o.isContainer.value===!0),J=C(()=>l.overlay===!1&&x.value===!0&&w.value===!1),Xe=C(()=>l.overlay===!0&&x.value===!0&&w.value===!1),Ye=C(()=>"fullscreen q-drawer__backdrop"+(x.value===!1&&j.value===!1?" hidden":"")),Ke=C(()=>({backgroundColor:`rgba(0,0,0,${ke.value*.4})`})),Ce=C(()=>U.value===!0?o.rows.value.top[2]==="r":o.rows.value.top[0]==="l"),je=C(()=>U.value===!0?o.rows.value.bottom[2]==="r":o.rows.value.bottom[0]==="l"),Ge=C(()=>{const n={};return o.header.space===!0&&Ce.value===!1&&(ue.value===!0?n.top=`${o.header.offset}px`:o.header.space===!0&&(n.top=`${o.header.size}px`)),o.footer.space===!0&&je.value===!1&&(ue.value===!0?n.bottom=`${o.footer.offset}px`:o.footer.space===!0&&(n.bottom=`${o.footer.size}px`)),n}),Je=C(()=>{const n={width:`${s.value}px`,transform:`translateX(${Ae.value}px)`};return w.value===!0?n:Object.assign(n,Ge.value)}),Ze=C(()=>"q-drawer__content fit "+(o.isContainer.value!==!0?"scroll":"overflow-auto")),et=C(()=>`q-drawer q-drawer--${l.side}`+(oe.value===!0?" q-drawer--mini-animate":"")+(l.bordered===!0?" q-drawer--bordered":"")+(p.value===!0?" q-drawer--dark q-dark":"")+(j.value===!0?" no-transition":x.value===!0?"":" q-layout--prevent-focus")+(w.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${f.value===!0?"mini":"standard"}`+(ue.value===!0||J.value!==!0?" fixed":"")+(l.overlay===!0||l.miniToOverlay===!0?" q-drawer--on-top":"")+(Ce.value===!0?" q-drawer--top-padding":""))),tt=C(()=>{const n=i.lang.rtl===!0?l.side:ae.value;return[[be,nt,void 0,{[n]:!0,mouse:!0}]]}),at=C(()=>{const n=i.lang.rtl===!0?ae.value:l.side;return[[be,Pe,void 0,{[n]:!0,mouse:!0}]]}),lt=C(()=>{const n=i.lang.rtl===!0?ae.value:l.side;return[[be,Pe,void 0,{[n]:!0,mouse:!0,mouseAllDir:!0}]]});function de(){it(w,l.behavior==="mobile"||l.behavior!=="desktop"&&o.totalWidth.value<=l.breakpoint)}$(w,n=>{n===!0?(B=x.value,x.value===!0&&V(!1)):l.overlay===!1&&l.behavior!=="mobile"&&B!==!1&&(x.value===!0?(z(0),H(0),fe()):F(!1))}),$(()=>l.side,(n,b)=>{o.instances[b]===te&&(o.instances[b]=void 0,o[b].space=!1,o[b].offset=0),o.instances[n]=te,o[n].size=s.value,o[n].space=J.value,o[n].offset=re.value}),$(o.totalWidth,()=>{(o.isContainer.value===!0||document.qScrollPrevented!==!0)&&de()}),$(()=>l.behavior+l.breakpoint,de),$(o.isContainer,n=>{x.value===!0&&D(n!==!0),n===!0&&de()}),$(o.scrollbarWidth,()=>{z(x.value===!0?0:void 0)}),$(re,n=>{W("offset",n)}),$(J,n=>{m("onLayout",n),W("space",n)}),$(U,()=>{z()}),$(s,n=>{z(),ve(l.miniToOverlay,n)}),$(()=>l.miniToOverlay,n=>{ve(n,s.value)}),$(()=>i.lang.rtl,()=>{z()}),$(()=>l.mini,()=>{l.noMiniAnimation||l.modelValue===!0&&(st(),o.animate())}),$(f,n=>{m("miniState",n)});function z(n){n===void 0?Me(()=>{n=x.value===!0?0:s.value,z(K.value*n)}):(o.isContainer.value===!0&&U.value===!0&&(w.value===!0||Math.abs(n)===s.value)&&(n+=K.value*o.scrollbarWidth.value),Ae.value=n)}function H(n){ke.value=n}function ce(n){const b=n===!0?"remove":o.isContainer.value!==!0?"add":"";b!==""&&document.body.classList[b]("q-body--drawer-toggle")}function st(){N!==null&&clearTimeout(N),a.proxy&&a.proxy.$el&&a.proxy.$el.classList.add("q-drawer--mini-animate"),oe.value=!0,N=setTimeout(()=>{N=null,oe.value=!1,a?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function nt(n){if(x.value!==!1)return;const b=s.value,T=ie(n.distance.x,0,b);if(n.isFinal===!0){T>=Math.min(75,b)===!0?F():(o.animate(),H(0),z(K.value*b)),j.value=!1;return}z((i.lang.rtl===!0?U.value!==!0:U.value)?Math.max(b-T,0):Math.min(0,T-b)),H(ie(T/b,0,1)),n.isFirst===!0&&(j.value=!0)}function Pe(n){if(x.value!==!0)return;const b=s.value,T=n.direction===l.side,le=(i.lang.rtl===!0?T!==!0:T)?ie(n.distance.x,0,b):0;if(n.isFinal===!0){Math.abs(le)<Math.min(75,b)===!0?(o.animate(),H(1),z(0)):V(),j.value=!1;return}z(K.value*le),H(ie(1-le/b,0,1)),n.isFirst===!0&&(j.value=!0)}function fe(){D(!1),ce(!0)}function W(n,b){o.update(l.side,n,b)}function it(n,b){n.value!==b&&(n.value=b)}function ve(n,b){W("size",n===!0?l.miniWidth:b)}return o.instances[l.side]=te,ve(l.miniToOverlay,s.value),W("space",J.value),W("offset",re.value),l.showIfAbove===!0&&l.modelValue!==!0&&x.value===!0&&l["onUpdate:modelValue"]!==void 0&&m("update:modelValue",!0),Ue(()=>{m("onLayout",J.value),m("miniState",f.value),B=l.showIfAbove===!0;const n=()=>{(x.value===!0?O:L)(!1,!0)};if(o.totalWidth.value!==0){Me(n);return}S=$(o.totalWidth,()=>{S(),S=void 0,x.value===!1&&l.showIfAbove===!0&&w.value===!1?F(!1):n()})}),Ve(()=>{S?.(),N!==null&&(clearTimeout(N),N=null),x.value===!0&&fe(),o.instances[l.side]===te&&(o.instances[l.side]=void 0,W("size",0),W("offset",0),W("space",!1))}),()=>{const n=[];w.value===!0&&(l.noSwipeOpen===!1&&n.push(A(X("div",{key:"open",class:`q-drawer__opener fixed-${l.side}`,"aria-hidden":"true"}),tt.value)),n.push(Se("div",{ref:"backdrop",class:Ye.value,style:Ke.value,"aria-hidden":"true",onClick:V},void 0,"backdrop",l.noSwipeBackdrop!==!0&&x.value===!0,()=>lt.value)));const b=f.value===!0&&u.mini!==void 0,T=[X("div",{...q,key:""+b,class:[Ze.value,q.class]},b===!0?u.mini():ze(u.default))];return l.elevated===!0&&x.value===!0&&T.push(X("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(Se("aside",{ref:"content",class:et.value,style:Je.value},T,"contentclose",l.noSwipeClose!==!0&&w.value===!0,()=>at.value)),X("div",{class:"q-drawer-container"},n)}}}),Ot={class:"row items-center q-gutter-sm"},Bt={class:"text-subtitle1 text-weight-medium",style:{"line-height":".95"}},Qt={class:"row flex-center"},Et={class:"text-caption"},Tt={class:"row items-center no-wrap q-gutter-sm"},zt={class:"text-left",style:{"line-height":"1"}},Rt={class:"ellipsis",style:{"max-width":"140px"}},Ft={class:"row q-col-gutter-xs",style:{"min-width":"160px","max-width":"260px"}},Vt={class:"q-pa-md"},Ut={class:"text-white-7 text-caption"},Ht={class:"text-white-7 text-caption"},Wt={__name:"MainLayout",setup(l){const{proxy:u}=xe(),m=f=>(f??"").toString().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[^\p{L}\p{N}]+/gu," ").trim().toUpperCase(),q=R(!1),a=R(0),i=R({}),p=R(!1);function D(){return m(u.$store.user?.area)==="ADMIN"}function _(f){return(u.$store.permissions||[]).includes(f)}function y(f=[]){return D()?!0:(f||[]).some(s=>_(s))}const o=[{title:"Dashboard",icon:"analytics",link:"/",canPerm:"Dashboard"},{title:"Usuarios",icon:"people",link:"/usuarios",canPerm:"Usuarios"},{title:"Nuevo SLIM",icon:"add_circle",link:"/slims/nuevofisica",onlyAreas:["ALL"],childrens:[{title:"Denuncia Física",icon:"person_add",link:"/slims/nuevofisica",onlyAreas:["ALL"]},{title:"Apoyo Integral",icon:"diversity_1",link:"/slims/nuevointegral",onlyAreas:["ALL"]}]},{title:"SLIMs",icon:"folder_shared",link:"/slims",onlyAreas:["ALL"]},{title:"Nuevo DNA",icon:"gavel",link:"/dnas/nuevo-penal",onlyAreas:["DNA"],childrens:[{title:"Procesos Penales",icon:"balance",link:"/dnas/nuevo-penal",onlyAreas:["DNA"]},{title:"Procesos Familiares",icon:"family_restroom",link:"/dnas/nuevo-familiar",onlyAreas:["DNA"]},{title:"Procesos Niñez y Adolescencia",icon:"child_care",link:"/dnas/nuevo-nna",onlyAreas:["DNA"]},{title:"Apoyos Integrales",icon:"diversity_1",link:"/dnas/nuevo-apoyo",onlyAreas:["DNA"]}]},{title:"DNA (Casos)",icon:"folder_shared",link:"/dnas",onlyAreas:["DNA"]},{title:"Nuevo SLAM",icon:"add_circle",link:"/slams/nuevofisica",childrens:[{title:"Denuncia Física",icon:"person_add",link:"/slams/nuevofisica"},{title:"Apoyo Integral",icon:"diversity_1",link:"/slams/nuevointegral"}]},{title:"SLAMs",icon:"folder_shared",link:"/slams"},{title:"Nuevo UMADIS",icon:"add_circle",link:"/umadis/nuevofisica",onlyAreas:["UMADIS"],childrens:[{title:"Denuncia Física",icon:"person_add",link:"/umadis/nuevofisica",onlyAreas:["UMADIS"]},{title:"Apoyo Integral",icon:"diversity_1",link:"/umadis/nuevointegral",onlyAreas:["UMADIS"]}]},{title:"UMADIS",icon:"folder_shared",link:"/umadis",onlyAreas:["UMADIS"]},{title:"Nuevo PROPREMI",icon:"add_circle",link:"/propremis/nuevofisica",onlyAreas:["PROPREMI"],childrens:[{title:"Denuncia Física",icon:"person_add",link:"/propremis/nuevofisica",onlyAreas:["PROPREMI"]},{title:"Apoyo Integral",icon:"diversity_1",link:"/propremis/nuevointegral",onlyAreas:["PROPREMI"]}]},{title:"PROPREMIs",icon:"folder_shared",link:"/propremis",onlyAreas:["PROPREMI"]},{title:"Agenda",icon:"event",link:"/agenda",canPerm:"Agenda"},{title:"Líneas de Tiempo",icon:"timeline",link:"/lineas-tiempo",canPerm:"Lineas de Tiempo"},{title:"KPIs",icon:"query_stats",link:"/kpis",canPerm:"Kpis"},{title:"Auditorías",icon:"shield",link:"/auditorias",canPerm:"Auditorias"}];C(()=>{const f=m(u.$store.user?.area),s=D(),x=L=>{if(s)return!0;const F=L?.canPerm;return F?Array.isArray(F)?y(F):_(F):!0},d=L=>{if(s)return!0;const F=V=>V?Array.isArray(V)?V.map(m).includes("ALL"):m(V)==="ALL":!1;return F(L.onlyAreas)||F(L.onlyArea)?!0:L.onlyArea?f?m(L.onlyArea)===f:!1:L.onlyAreas?f?(Array.isArray(L.onlyAreas)?L.onlyAreas:[L.onlyAreas]).map(m).includes(f):!1:!0},O=L=>!!L&&d(L)&&x(L);return o.filter(Boolean).filter(O).map(L=>L.childrens?{...L,childrens:(L.childrens||[]).filter(O)}:L)});async function B(){p.value=!0;try{const{data:f}=await u.$axios.get("/casos-pendientes-resumen");i.value=f,a.value=f.length}catch{}finally{p.value=!1}}function N(f){u.$router.push(`/${f.tipo.toLowerCase()}s/`)}Ue(()=>{B()}),$(()=>u.$route.fullPath,()=>{B()});function S(){q.value=!q.value}function w(){u.$alert.dialog("¿Desea salir del sistema?").onOk(()=>{u.$axios.post("/logout").then(()=>{u.$store.isLogged=!1,u.$store.user={},u.$store.permissions=[],localStorage.removeItem("tokenDio"),localStorage.removeItem("user"),u.$router.push("/login")}).catch(()=>u.$alert.error("Error al cerrar sesión. Intente nuevamente."))})}return(f,s)=>{const x=gt("router-view");return c(),v(qt,{view:"lHh Lpr lFf"},{default:e(()=>[t(It,{class:"bg-white text-black",bordered:""},{default:e(()=>[t(Lt,null,{default:e(()=>[t(qe,{flat:"",color:"primary",icon:q.value?"keyboard_double_arrow_left":"keyboard_double_arrow_right","aria-label":"Menú",onClick:S,unelevated:"",dense:""},null,8,["icon"]),Q("div",Ot,[Q("div",Bt,[s[1]||(s[1]=h(" Panel ")),s[2]||(s[2]=Q("br",null,null,-1)),f.$store.user?.area?(c(),v(ne,{key:0,color:"grey-3","text-color":"black",size:"10px",dense:""},{default:e(()=>[h(E(f.$store.user?.area),1)]),_:1})):I("",!0),f.$store.user?.zona?(c(),v(ne,{key:1,color:"grey-3","text-color":"black",size:"10px",dense:""},{default:e(()=>[h(E(f.$store.user?.zona),1)]),_:1})):I("",!0)])]),t(At),Q("div",Qt,[t(qe,{flat:"",round:"",dense:"",icon:a.value>0?"notifications_active":"notifications_none",color:a.value>0?"negative":"grey-7",loading:p.value,"aria-label":"Pendientes"},{default:e(()=>[a.value>0?(c(),v(Oe,{key:0,color:"red","text-color":"white",floating:""},{default:e(()=>[h(E(a.value),1)]),_:1})):I("",!0),a.value>0?(c(),v(Ct,{key:1},{default:e(()=>[h(" Tienes "+E(a.value)+" pendiente(s) ",1)]),_:1})):I("",!0),t(kt,null,{default:e(()=>[t(Y,{style:{"min-width":"250px"}},{default:e(()=>[i.value?(c(!0),Le(Ie,{key:0},$e(i.value,(d,O)=>A((c(),v(k,{key:O,clickable:"",onClick:L=>N(d)},{default:e(()=>[t(r,null,{default:e(()=>[t(g,null,{default:e(()=>[Q("div",null,[Q("strong",null,E(d.tipo)+" "+E(d.caso_numero),1),h(" - "+E(d.caso_fecha_hecho),1)]),Q("div",Et,E(d.caso_direccion||"Sin dirección"),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[P]])),128)):I("",!0),!a.value&&!p.value?(c(),v(k,{key:1},{default:e(()=>[t(r,null,{default:e(()=>[t(g,null,{default:e(()=>s[3]||(s[3]=[h(" No tienes pendientes ")])),_:1})]),_:1})]),_:1})):I("",!0)]),_:1})]),_:1})]),_:1},8,["icon","color","loading"]),t(Pt,{flat:"",unelevated:"","no-caps":"","dropdown-icon":"expand_more"},{label:e(()=>[Q("div",Tt,[t(Ne,{rounded:""},{default:e(()=>[f.$store.user?.avatar?(c(),v(Be,{key:0,src:`${f.$url}/../images/${f.$store.user?.avatar}`,width:"40",height:"40"},null,8,["src"])):(c(),v(M,{key:1,name:"person"}))]),_:1}),Q("div",zt,[Q("div",Rt,E(f.$store.user?.username),1),f.$store.user?.role?(c(),v(ne,{key:0,color:"grey-3","text-color":"black",size:"10px",dense:""},{default:e(()=>[h(E(f.$store.user?.role),1)]),_:1})):I("",!0)])])]),default:e(()=>[A((c(),v(k,{clickable:""},{default:e(()=>[t(r,null,{default:e(()=>[t(g,{class:"text-grey-7"},{default:e(()=>[h(E(f.$store.user?.name||f.$store.user?.username||"Usuario"),1)]),_:1}),t(g,{caption:"",class:"q-mt-xs"},{default:e(()=>[Q("div",Ft,[(c(!0),Le(Ie,null,$e(f.$store.permissions||[],(d,O)=>(c(),v(ne,{key:O,dense:"",color:"grey-3","text-color":"black",size:"12px",class:"q-mr-xs q-mb-xs"},{default:e(()=>[h(E(d),1)]),_:2},1024))),128)),f.$store.permissions?.length?I("",!0):(c(),v(Oe,{key:0,color:"grey-5",outline:""},{default:e(()=>s[4]||(s[4]=[h("Sin permisos")])),_:1}))])]),_:1})]),_:1})]),_:1})),[[P]]),t(he),A((c(),v(k,{clickable:"",onClick:w},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"logout"})]),_:1}),t(r,null,{default:e(()=>[t(g,null,{default:e(()=>s[5]||(s[5]=[h("Salir")])),_:1})]),_:1})]),_:1})),[[xt],[P]])]),_:1})])]),_:1})]),_:1}),t(Nt,{modelValue:q.value,"onUpdate:modelValue":s[0]||(s[0]=d=>q.value=d),bordered:"","show-if-above":"",width:220,breakpoint:500,class:"bg-primary text-white"},{default:e(()=>[t(Y,{class:"q-pb-none"},{default:e(()=>[t(g,{header:"",class:"text-center q-pa-none q-pt-md"},{default:e(()=>[t(Ne,{size:"64px",class:"q-mb-sm",rounded:""},{default:e(()=>[t(Be,{src:"/logo.png",width:"90"})]),_:1}),s[6]||(s[6]=Q("div",{class:"text-weight-bold text-white"},"DIO",-1)),s[7]||(s[7]=Q("div",{class:"text-caption text-white"},"Dirección de Igualdad de Oportunidades (GAMO)",-1))]),_:1}),t(he,{color:"white",spaced:""}),t(g,{header:"",class:"q-px-md text-grey-3 q-mt-sm"},{default:e(()=>s[8]||(s[8]=[h(" Módulos del Sistema ")])),_:1}),A((c(),v(k,{dense:"",to:"/",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"analytics",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[9]||(s[9]=[h("Dashboard")])),_:1})]),_:1})]),_:1})),[[P]]),_("Usuarios")?A((c(),v(k,{key:0,dense:"",to:"/usuarios",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"people",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[10]||(s[10]=[h("Usuarios")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),_("Lineas de Tiempo")?A((c(),v(k,{key:1,dense:"",to:"/lineas-tiempo",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"timeline",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[11]||(s[11]=[h("Líneas de Tiempo")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),_("Agenda")?A((c(),v(k,{key:2,dense:"",to:"/agenda",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"event",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[12]||(s[12]=[h("Agenda")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),y(["Crear SLIM"])?(c(),v(ee,{key:3,dense:"","expand-separator":"",icon:"add_circle",label:"Nuevo SLIM","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((c(),v(k,{"inset-level":.3,dense:"",to:"/slims/nuevo-penal",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"balance",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[13]||(s[13]=[h("Nuevo Proceso Penal")])),_:1})]),_:1})]),_:1})),[[P]]),A((c(),v(k,{"inset-level":.3,dense:"",to:"/slims/nuevo-familiar",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"family_restroom",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[14]||(s[14]=[h("Nuevo Proceso Familiar")])),_:1})]),_:1})]),_:1})),[[P]]),A((c(),v(k,{"inset-level":.3,dense:"",to:"/slims/nuevo-apoyo",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"diversity_1",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[15]||(s[15]=[h("Nuevo Apoyo Integral")])),_:1})]),_:1})]),_:1})),[[P]])]),_:1})]),_:1})):I("",!0),_("Ver SLIM")?A((c(),v(k,{key:4,dense:"",to:"/slims",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"folder_shared",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[16]||(s[16]=[h("SLIM (Casos)")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),y(["Crear DNA"])?(c(),v(ee,{key:5,dense:"","expand-separator":"",icon:"gavel",label:"Nuevo DNA","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((c(),v(k,{"inset-level":.3,dense:"",to:"/dnas/nuevo-penal",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"balance",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[17]||(s[17]=[h("Nuevo Proceso Penal")])),_:1})]),_:1})]),_:1})),[[P]]),A((c(),v(k,{"inset-level":.3,dense:"",to:"/dnas/nuevo-familiar",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"family_restroom",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[18]||(s[18]=[h("Nuevo Proceso Familiar")])),_:1})]),_:1})]),_:1})),[[P]]),A((c(),v(k,{"inset-level":.3,dense:"",to:"/dnas/nuevo-nna",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"child_care",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[19]||(s[19]=[h("Nuevo Proceso Niñez y Adolescencia")])),_:1})]),_:1})]),_:1})),[[P]]),A((c(),v(k,{"inset-level":.3,dense:"",to:"/dnas/nuevo-apoyo",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"diversity_1",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[20]||(s[20]=[h("Nuevo Apoyo Integral")])),_:1})]),_:1})]),_:1})),[[P]])]),_:1})]),_:1})):I("",!0),_("Ver DNA")?A((c(),v(k,{key:6,dense:"",to:"/dnas",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"folder_shared",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[21]||(s[21]=[h("DNA (Casos)")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),y(["Crear SLAM"])?(c(),v(ee,{key:7,dense:"","expand-separator":"",icon:"add_circle",label:"Nuevo SLAM","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((c(),v(k,{"inset-level":.3,dense:"",to:"/slams/nuevofisica",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"person_add",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[22]||(s[22]=[h("Nueva Denuncia Física")])),_:1})]),_:1})]),_:1})),[[P]]),A((c(),v(k,{"inset-level":.3,dense:"",to:"/slams/nuevointegral",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"diversity_1",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[23]||(s[23]=[h("Nuevo Apoyo Integral")])),_:1})]),_:1})]),_:1})),[[P]])]),_:1})]),_:1})):I("",!0),_("Ver SLAM")?A((c(),v(k,{key:8,dense:"",to:"/slams",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"folder_shared",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[24]||(s[24]=[h("SLAM (Casos)")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),y(["Crear UMADIS"])?(c(),v(ee,{key:9,dense:"","expand-separator":"",icon:"add_circle",label:"Nuevo UMADIS","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((c(),v(k,{"inset-level":.3,dense:"",to:"/umadis/nuevofisica",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"person_add",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[25]||(s[25]=[h("Nueva Denuncia Física")])),_:1})]),_:1})]),_:1})),[[P]]),A((c(),v(k,{"inset-level":.3,dense:"",to:"/umadis/nuevointegral",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"diversity_1",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[26]||(s[26]=[h("Nuevo Apoyo Integral")])),_:1})]),_:1})]),_:1})),[[P]])]),_:1})]),_:1})):I("",!0),_("Ver UMADIS")?A((c(),v(k,{key:10,dense:"",to:"/umadis",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"folder_shared",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[27]||(s[27]=[h("UMADIS (Casos)")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),y(["Crear PROPREMI"])?(c(),v(ee,{key:11,dense:"","expand-separator":"",icon:"add_circle",label:"Nuevo PROPREMI","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((c(),v(k,{"inset-level":.3,dense:"",to:"/propremis/nuevo-infraccion-educativo",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"school",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[28]||(s[28]=[h("Nueva Infracción Sistema Educativo")])),_:1})]),_:1})]),_:1})),[[P]]),A((c(),v(k,{"inset-level":.3,dense:"",to:"/talleres",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"record_voice_over",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[29]||(s[29]=[h("Agenda Talleres de Orientación")])),_:1})]),_:1})]),_:1})),[[P]])]),_:1})]),_:1})):I("",!0),_("Ver PROPREMI")?A((c(),v(k,{key:12,dense:"",to:"/propremis",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"folder_shared",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[30]||(s[30]=[h("PROPREMI (Casos)")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),_("Acogimiento")?A((c(),v(k,{key:13,dense:"",to:"/acogimiento",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"home",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[31]||(s[31]=[h("Acogimiento")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),_("Reportes")?A((c(),v(k,{key:14,dense:"",to:"/reportes",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"bar_chart",class:"text-white"})]),_:1}),t(r,null,{default:e(()=>[t(g,{class:"text-white"},{default:e(()=>s[32]||(s[32]=[h("Reportes")])),_:1})]),_:1})]),_:1})),[[P]]):I("",!0),t(he,{color:"white",class:"q-mt-md"}),Q("div",Vt,[Q("div",Ut,"DIO v"+E(f.$version),1),Q("div",Ht,"© "+E(new Date().getFullYear())+" Gobierno Autónomo Municipal de Oruro",1)]),A((c(),v(k,{clickable:"",class:"text-white",onClick:w},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(M,{name:"logout"})]),_:1}),t(r,null,{default:e(()=>[t(g,null,{default:e(()=>s[33]||(s[33]=[h("Salir")])),_:1})]),_:1})]),_:1})),[[P]])]),_:1})]),_:1},8,["modelValue"]),t(St,{class:"bg-grey-2"},{default:e(()=>[t(x)]),_:1})]),_:1})}}},ra=wt(Wt,[["__scopeId","data-v-28bbe279"]]);export{ra as default};
