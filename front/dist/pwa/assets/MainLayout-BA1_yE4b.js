import{j as we,k as D,l as X,m as Qe,g as ke,n as Ee,p as G,q as Fe,r as z,s as $,v as Te,x as st,y as nt,z as me,A as Z,B as pe,C as it,E as se,F as ge,G as Me,H as ye,I as rt,J as ut,K as ot,L as dt,M as ct,O as ft,P as vt,R as mt,S as pt,T as yt,U as Ce,V as ze,W as A,X as Pe,_ as ht,Y as _t,c,o as d,w as e,a as t,b as E,f as qe,Z as v,$ as q,t as F,d as S,a0 as bt,a1 as gt,a2 as wt,a3 as he,a4 as kt,a5 as Ie}from"./index-De6rFb63.js";import{c as xt,b as ne,Q as ie,a as At,d as x,e as u,f as _}from"./format-D-BuLkP0.js";import{Q as Dt}from"./QSpace-BvqKOCEq.js";import{Q as Le}from"./QBadge-Ck5eW_ux.js";import{Q as St}from"./QTooltip-KTiz2y4P.js";import{Q as Y,a as Mt}from"./QBtnDropdown-Bjlu-4lt.js";import{Q as Ne}from"./QImg--fFxHayU.js";import{Q as Ct}from"./QResizeObserver-CrProvH5.js";import{Q as ee}from"./QExpansionItem-B827L9LJ.js";import{g as $e,s as Oe}from"./touch-BjYP5sR0.js";import{Q as Pt,a as qt}from"./QLayout-CYm32lYL.js";import{C as M}from"./ClosePopup-p80Fnq0N.js";const It=we({name:"QToolbar",props:{inset:Boolean},setup(l,{slots:o}){const m=D(()=>"q-toolbar row no-wrap items-center"+(l.inset===!0?" q-toolbar--inset":""));return()=>X("div",{class:m.value,role:"toolbar"},Qe(o.default))}}),Lt=we({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(l,{slots:o,emit:m}){const{proxy:{$q:I}}=ke(),a=Ee(Fe,G);if(a===G)return console.error("QHeader needs to be child of QLayout"),G;const n=z(parseInt(l.heightHint,10)),p=z(!0),C=D(()=>l.reveal===!0||a.view.value.indexOf("H")!==-1||I.platform.is.ios&&a.isContainer.value===!0),b=D(()=>{if(l.modelValue!==!0)return 0;if(C.value===!0)return p.value===!0?n.value:0;const y=n.value-a.scroll.value.position;return y>0?y:0}),h=D(()=>l.modelValue!==!0||C.value===!0&&p.value!==!0),r=D(()=>l.modelValue===!0&&h.value===!0&&l.reveal===!0),O=D(()=>"q-header q-layout__section--marginal "+(C.value===!0?"fixed":"absolute")+"-top"+(l.bordered===!0?" q-header--bordered":"")+(h.value===!0?" q-header--hidden":"")+(l.modelValue!==!0?" q-layout--prevent-focus":"")),L=D(()=>{const y=a.rows.value.top,B={};return y[0]==="l"&&a.left.space===!0&&(B[I.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),y[2]==="r"&&a.right.space===!0&&(B[I.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),B});function P(y,B){a.update("header",y,B)}function w(y,B){y.value!==B&&(y.value=B)}function f({height:y}){w(n,y),P("size",y)}function s(y){r.value===!0&&w(p,!0),m("focusin",y)}$(()=>l.modelValue,y=>{P("space",y),w(p,!0),a.animate()}),$(b,y=>{P("offset",y)}),$(()=>l.reveal,y=>{y===!1&&w(p,l.modelValue)}),$(p,y=>{a.animate(),m("reveal",y)}),$(a.scroll,y=>{l.reveal===!0&&w(p,y.direction==="up"||y.position<=l.revealOffset||y.position-y.inflectionPoint<100)});const k={};return a.instances.header=k,l.modelValue===!0&&P("size",n.value),P("space",l.modelValue),P("offset",b.value),Te(()=>{a.instances.header===k&&(a.instances.header=void 0,P("size",0),P("offset",0),P("space",!1))}),()=>{const y=st(o.default,[]);return l.elevated===!0&&y.push(X("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y.push(X(Ct,{debounce:0,onResize:f})),X("header",{class:O.value,style:L.value,onFocusin:s},y)}}});function _e(l,o,m){const I=ge(l);let a,n=I.left-o.event.x,p=I.top-o.event.y,C=Math.abs(n),b=Math.abs(p);const h=o.direction;h.horizontal===!0&&h.vertical!==!0?a=n<0?"left":"right":h.horizontal!==!0&&h.vertical===!0?a=p<0?"up":"down":h.up===!0&&p<0?(a="up",C>b&&(h.left===!0&&n<0?a="left":h.right===!0&&n>0&&(a="right"))):h.down===!0&&p>0?(a="down",C>b&&(h.left===!0&&n<0?a="left":h.right===!0&&n>0&&(a="right"))):h.left===!0&&n<0?(a="left",C<b&&(h.up===!0&&p<0?a="up":h.down===!0&&p>0&&(a="down"))):h.right===!0&&n>0&&(a="right",C<b&&(h.up===!0&&p<0?a="up":h.down===!0&&p>0&&(a="down")));let r=!1;if(a===void 0&&m===!1){if(o.event.isFirst===!0||o.event.lastDir===void 0)return{};a=o.event.lastDir,r=!0,a==="left"||a==="right"?(I.left-=n,C=0,n=0):(I.top-=p,b=0,p=0)}return{synthetic:r,payload:{evt:l,touch:o.event.mouse!==!0,mouse:o.event.mouse===!0,position:I,direction:a,isFirst:o.event.isFirst,isFinal:m===!0,duration:Date.now()-o.event.time,distance:{x:C,y:b},offset:{x:n,y:p},delta:{x:I.left-o.event.lastX,y:I.top-o.event.lastY}}}}let Nt=0;const be=nt({name:"touch-pan",beforeMount(l,{value:o,modifiers:m}){if(m.mouse!==!0&&Z.has.touch!==!0)return;function I(n,p){m.mouse===!0&&p===!0?ut(n):(m.stop===!0&&ye(n),m.prevent===!0&&Me(n))}const a={uid:"qvtp_"+Nt++,handler:o,modifiers:m,direction:$e(m),noop:it,mouseStart(n){Oe(n,a)&&rt(n)&&(se(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(n,!0))},touchStart(n){if(Oe(n,a)){const p=n.target;se(a,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","passiveCapture"],[p,"touchend","end","passiveCapture"]]),a.start(n)}},start(n,p){if(Z.is.firefox===!0&&pe(l,!0),a.lastEvt=n,p===!0||m.stop===!0){if(a.direction.all!==!0&&(p!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const h=n.type.indexOf("mouse")!==-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&Me(h),n.cancelBubble===!0&&ye(h),Object.assign(h,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[a.uid]:n.qClonedBy.concat(a.uid)}),a.initialEvent={target:n.target,event:h}}ye(n)}const{left:C,top:b}=ge(n);a.event={x:C,y:b,time:Date.now(),mouse:p===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:C,lastY:b}},move(n){if(a.event===void 0)return;const p=ge(n),C=p.left-a.event.x,b=p.top-a.event.y;if(C===0&&b===0)return;a.lastEvt=n;const h=a.event.mouse===!0,r=()=>{I(n,h);let P;m.preserveCursor!==!0&&m.preservecursor!==!0&&(P=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),h===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),xt(),a.styleCleanup=w=>{if(a.styleCleanup=void 0,P!==void 0&&(document.documentElement.style.cursor=P),document.body.classList.remove("non-selectable"),h===!0){const f=()=>{document.body.classList.remove("no-pointer-events--children")};w!==void 0?setTimeout(()=>{f(),w()},50):f()}else w!==void 0&&w()}};if(a.event.detected===!0){a.event.isFirst!==!0&&I(n,a.event.mouse);const{payload:P,synthetic:w}=_e(n,a,!1);P!==void 0&&(a.handler(P)===!1?a.end(n):(a.styleCleanup===void 0&&a.event.isFirst===!0&&r(),a.event.lastX=P.position.left,a.event.lastY=P.position.top,a.event.lastDir=w===!0?void 0:P.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||h===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){r(),a.event.detected=!0,a.move(n);return}const O=Math.abs(C),L=Math.abs(b);O!==L&&(a.direction.horizontal===!0&&O>L||a.direction.vertical===!0&&O<L||a.direction.up===!0&&O<L&&b<0||a.direction.down===!0&&O<L&&b>0||a.direction.left===!0&&O>L&&C<0||a.direction.right===!0&&O>L&&C>0?(a.event.detected=!0,a.move(n)):a.end(n,!0))},end(n,p){if(a.event!==void 0){if(me(a,"temp"),Z.is.firefox===!0&&pe(l,!1),p===!0)a.styleCleanup?.(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(_e(n===void 0?a.lastEvt:n,a).payload);const{payload:C}=_e(n===void 0?a.lastEvt:n,a,!0),b=()=>{a.handler(C)};a.styleCleanup!==void 0?a.styleCleanup(b):b()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(l.__qtouchpan=a,m.mouse===!0){const n=m.mouseCapture===!0||m.mousecapture===!0?"Capture":"";se(a,"main",[[l,"mousedown","mouseStart",`passive${n}`]])}Z.has.touch===!0&&se(a,"main",[[l,"touchstart","touchStart",`passive${m.capture===!0?"Capture":""}`],[l,"touchmove","noop","notPassiveCapture"]])},updated(l,o){const m=l.__qtouchpan;m!==void 0&&(o.oldValue!==o.value&&(typeof value!="function"&&m.end(),m.handler=o.value),m.direction=$e(o.modifiers))},beforeUnmount(l){const o=l.__qtouchpan;o!==void 0&&(o.event!==void 0&&o.end(),me(o,"main"),me(o,"temp"),Z.is.firefox===!0&&pe(l,!1),o.styleCleanup?.(),delete l.__qtouchpan)}}),Be=150,$t=we({name:"QDrawer",inheritAttrs:!1,props:{...ct,...dt,side:{type:String,default:"left",validator:l=>["left","right"].includes(l)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:l=>["default","desktop","mobile"].includes(l),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...ot,"onLayout","miniState"],setup(l,{slots:o,emit:m,attrs:I}){const a=ke(),{proxy:{$q:n}}=a,p=ft(l,n),{preventBodyScroll:C}=yt(),{registerTimeout:b,removeTimeout:h}=vt(),r=Ee(Fe,G);if(r===G)return console.error("QDrawer needs to be child of QLayout"),G;let O,L=null,P;const w=z(l.behavior==="mobile"||l.behavior!=="desktop"&&r.totalWidth.value<=l.breakpoint),f=D(()=>l.mini===!0&&w.value!==!0),s=D(()=>f.value===!0?l.miniWidth:l.width),k=z(l.showIfAbove===!0&&w.value===!1?!0:l.modelValue===!0),y=D(()=>l.persistent!==!0&&(w.value===!0||Ue.value===!0));function B(i,g){if(Re(),i!==!1&&r.animate(),T(0),w.value===!0){const Q=r.instances[ae.value];Q?.belowBreakpoint===!0&&Q.hide(!1),H(1),r.isContainer.value!==!0&&C(!0)}else H(0),i!==!1&&ce(!1);b(()=>{i!==!1&&ce(!0),g!==!0&&m("show",i)},Be)}function N(i,g){Ve(),i!==!1&&r.animate(),H(0),T(K.value*s.value),fe(),g!==!0?b(()=>{m("hide",i)},Be):h()}const{show:R,hide:V}=mt({showing:k,hideOnRouteChange:y,handleShow:B,handleHide:N}),{addToHistory:Re,removeFromHistory:Ve}=pt(k,V,y),te={belowBreakpoint:w,hide:V},U=D(()=>l.side==="right"),K=D(()=>(n.lang.rtl===!0?-1:1)*(U.value===!0?1:-1)),xe=z(0),j=z(!1),re=z(!1),Ae=z(s.value*K.value),ae=D(()=>U.value===!0?"left":"right"),ue=D(()=>k.value===!0&&w.value===!1&&l.overlay===!1?l.miniToOverlay===!0?l.miniWidth:s.value:0),oe=D(()=>l.overlay===!0||l.miniToOverlay===!0||r.view.value.indexOf(U.value?"R":"L")!==-1||n.platform.is.ios===!0&&r.isContainer.value===!0),J=D(()=>l.overlay===!1&&k.value===!0&&w.value===!1),Ue=D(()=>l.overlay===!0&&k.value===!0&&w.value===!1),He=D(()=>"fullscreen q-drawer__backdrop"+(k.value===!1&&j.value===!1?" hidden":"")),We=D(()=>({backgroundColor:`rgba(0,0,0,${xe.value*.4})`})),De=D(()=>U.value===!0?r.rows.value.top[2]==="r":r.rows.value.top[0]==="l"),Xe=D(()=>U.value===!0?r.rows.value.bottom[2]==="r":r.rows.value.bottom[0]==="l"),Ye=D(()=>{const i={};return r.header.space===!0&&De.value===!1&&(oe.value===!0?i.top=`${r.header.offset}px`:r.header.space===!0&&(i.top=`${r.header.size}px`)),r.footer.space===!0&&Xe.value===!1&&(oe.value===!0?i.bottom=`${r.footer.offset}px`:r.footer.space===!0&&(i.bottom=`${r.footer.size}px`)),i}),Ke=D(()=>{const i={width:`${s.value}px`,transform:`translateX(${Ae.value}px)`};return w.value===!0?i:Object.assign(i,Ye.value)}),je=D(()=>"q-drawer__content fit "+(r.isContainer.value!==!0?"scroll":"overflow-auto")),Ge=D(()=>`q-drawer q-drawer--${l.side}`+(re.value===!0?" q-drawer--mini-animate":"")+(l.bordered===!0?" q-drawer--bordered":"")+(p.value===!0?" q-drawer--dark q-dark":"")+(j.value===!0?" no-transition":k.value===!0?"":" q-layout--prevent-focus")+(w.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${f.value===!0?"mini":"standard"}`+(oe.value===!0||J.value!==!0?" fixed":"")+(l.overlay===!0||l.miniToOverlay===!0?" q-drawer--on-top":"")+(De.value===!0?" q-drawer--top-padding":""))),Je=D(()=>{const i=n.lang.rtl===!0?l.side:ae.value;return[[be,at,void 0,{[i]:!0,mouse:!0}]]}),Ze=D(()=>{const i=n.lang.rtl===!0?ae.value:l.side;return[[be,Se,void 0,{[i]:!0,mouse:!0}]]}),et=D(()=>{const i=n.lang.rtl===!0?ae.value:l.side;return[[be,Se,void 0,{[i]:!0,mouse:!0,mouseAllDir:!0}]]});function de(){lt(w,l.behavior==="mobile"||l.behavior!=="desktop"&&r.totalWidth.value<=l.breakpoint)}$(w,i=>{i===!0?(O=k.value,k.value===!0&&V(!1)):l.overlay===!1&&l.behavior!=="mobile"&&O!==!1&&(k.value===!0?(T(0),H(0),fe()):R(!1))}),$(()=>l.side,(i,g)=>{r.instances[g]===te&&(r.instances[g]=void 0,r[g].space=!1,r[g].offset=0),r.instances[i]=te,r[i].size=s.value,r[i].space=J.value,r[i].offset=ue.value}),$(r.totalWidth,()=>{(r.isContainer.value===!0||document.qScrollPrevented!==!0)&&de()}),$(()=>l.behavior+l.breakpoint,de),$(r.isContainer,i=>{k.value===!0&&C(i!==!0),i===!0&&de()}),$(r.scrollbarWidth,()=>{T(k.value===!0?0:void 0)}),$(ue,i=>{W("offset",i)}),$(J,i=>{m("onLayout",i),W("space",i)}),$(U,()=>{T()}),$(s,i=>{T(),ve(l.miniToOverlay,i)}),$(()=>l.miniToOverlay,i=>{ve(i,s.value)}),$(()=>n.lang.rtl,()=>{T()}),$(()=>l.mini,()=>{l.noMiniAnimation||l.modelValue===!0&&(tt(),r.animate())}),$(f,i=>{m("miniState",i)});function T(i){i===void 0?Ce(()=>{i=k.value===!0?0:s.value,T(K.value*i)}):(r.isContainer.value===!0&&U.value===!0&&(w.value===!0||Math.abs(i)===s.value)&&(i+=K.value*r.scrollbarWidth.value),Ae.value=i)}function H(i){xe.value=i}function ce(i){const g=i===!0?"remove":r.isContainer.value!==!0?"add":"";g!==""&&document.body.classList[g]("q-body--drawer-toggle")}function tt(){L!==null&&clearTimeout(L),a.proxy&&a.proxy.$el&&a.proxy.$el.classList.add("q-drawer--mini-animate"),re.value=!0,L=setTimeout(()=>{L=null,re.value=!1,a?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function at(i){if(k.value!==!1)return;const g=s.value,Q=ne(i.distance.x,0,g);if(i.isFinal===!0){Q>=Math.min(75,g)===!0?R():(r.animate(),H(0),T(K.value*g)),j.value=!1;return}T((n.lang.rtl===!0?U.value!==!0:U.value)?Math.max(g-Q,0):Math.min(0,Q-g)),H(ne(Q/g,0,1)),i.isFirst===!0&&(j.value=!0)}function Se(i){if(k.value!==!0)return;const g=s.value,Q=i.direction===l.side,le=(n.lang.rtl===!0?Q!==!0:Q)?ne(i.distance.x,0,g):0;if(i.isFinal===!0){Math.abs(le)<Math.min(75,g)===!0?(r.animate(),H(1),T(0)):V(),j.value=!1;return}T(K.value*le),H(ne(1-le/g,0,1)),i.isFirst===!0&&(j.value=!0)}function fe(){C(!1),ce(!0)}function W(i,g){r.update(l.side,i,g)}function lt(i,g){i.value!==g&&(i.value=g)}function ve(i,g){W("size",i===!0?l.miniWidth:g)}return r.instances[l.side]=te,ve(l.miniToOverlay,s.value),W("space",J.value),W("offset",ue.value),l.showIfAbove===!0&&l.modelValue!==!0&&k.value===!0&&l["onUpdate:modelValue"]!==void 0&&m("update:modelValue",!0),ze(()=>{m("onLayout",J.value),m("miniState",f.value),O=l.showIfAbove===!0;const i=()=>{(k.value===!0?B:N)(!1,!0)};if(r.totalWidth.value!==0){Ce(i);return}P=$(r.totalWidth,()=>{P(),P=void 0,k.value===!1&&l.showIfAbove===!0&&w.value===!1?R(!1):i()})}),Te(()=>{P?.(),L!==null&&(clearTimeout(L),L=null),k.value===!0&&fe(),r.instances[l.side]===te&&(r.instances[l.side]=void 0,W("size",0),W("offset",0),W("space",!1))}),()=>{const i=[];w.value===!0&&(l.noSwipeOpen===!1&&i.push(A(X("div",{key:"open",class:`q-drawer__opener fixed-${l.side}`,"aria-hidden":"true"}),Je.value)),i.push(Pe("div",{ref:"backdrop",class:He.value,style:We.value,"aria-hidden":"true",onClick:V},void 0,"backdrop",l.noSwipeBackdrop!==!0&&k.value===!0,()=>et.value)));const g=f.value===!0&&o.mini!==void 0,Q=[X("div",{...I,key:""+g,class:[je.value,I.class]},g===!0?o.mini():Qe(o.default))];return l.elevated===!0&&k.value===!0&&Q.push(X("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),i.push(Pe("aside",{ref:"content",class:Ge.value,style:Ke.value},Q,"contentclose",l.noSwipeClose!==!0&&w.value===!0,()=>Ze.value)),X("div",{class:"q-drawer-container"},i)}}}),Ot={class:"row items-center q-gutter-sm"},Bt={class:"text-subtitle1 text-weight-medium",style:{"line-height":".95"}},Qt={class:"row items-center q-gutter-sm"},Et={class:"row items-center no-wrap q-gutter-sm"},Ft={class:"text-left",style:{"line-height":"1"}},Tt={class:"ellipsis",style:{"max-width":"140px"}},zt={class:"row q-col-gutter-xs",style:{"min-width":"160px","max-width":"260px"}},Rt={class:"q-pa-md"},Vt={class:"text-white-7 text-caption"},Ut={class:"text-white-7 text-caption"},Ht={__name:"MainLayout",setup(l){const{proxy:o}=ke(),m=f=>(f??"").toString().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[^\p{L}\p{N}]+/gu," ").trim().toUpperCase(),I=z(!1),a=z(0),n=z({}),p=z(!1);function C(){return m(o.$store.user?.area)==="ADMIN"}function b(f){return(o.$store.permissions||[]).includes(f)}function h(f=[]){return C()?!0:(f||[]).some(s=>b(s))}const r=[{title:"Dashboard",icon:"analytics",link:"/",canPerm:"Dashboard"},{title:"Usuarios",icon:"people",link:"/usuarios",canPerm:"Usuarios"},{title:"Nuevo SLIM",icon:"add_circle",link:"/slims/nuevofisica",onlyAreas:["ALL"],childrens:[{title:"Denuncia Física",icon:"person_add",link:"/slims/nuevofisica",onlyAreas:["ALL"]},{title:"Apoyo Integral",icon:"diversity_1",link:"/slims/nuevointegral",onlyAreas:["ALL"]}]},{title:"SLIMs",icon:"folder_shared",link:"/slims",onlyAreas:["ALL"]},{title:"Nuevo DNA",icon:"gavel",link:"/dnas/nuevo-penal",onlyAreas:["DNA"],childrens:[{title:"Procesos Penales",icon:"balance",link:"/dnas/nuevo-penal",onlyAreas:["DNA"]},{title:"Procesos Familiares",icon:"family_restroom",link:"/dnas/nuevo-familiar",onlyAreas:["DNA"]},{title:"Procesos Niñez y Adolescencia",icon:"child_care",link:"/dnas/nuevo-nna",onlyAreas:["DNA"]},{title:"Apoyos Integrales",icon:"diversity_1",link:"/dnas/nuevo-apoyo",onlyAreas:["DNA"]}]},{title:"DNA (Casos)",icon:"folder_shared",link:"/dnas",onlyAreas:["DNA"]},{title:"Nuevo SLAM",icon:"add_circle",link:"/slams/nuevofisica",childrens:[{title:"Denuncia Física",icon:"person_add",link:"/slams/nuevofisica"},{title:"Apoyo Integral",icon:"diversity_1",link:"/slams/nuevointegral"}]},{title:"SLAMs",icon:"folder_shared",link:"/slams"},{title:"Nuevo UMADIS",icon:"add_circle",link:"/umadis/nuevofisica",onlyAreas:["UMADIS"],childrens:[{title:"Denuncia Física",icon:"person_add",link:"/umadis/nuevofisica",onlyAreas:["UMADIS"]},{title:"Apoyo Integral",icon:"diversity_1",link:"/umadis/nuevointegral",onlyAreas:["UMADIS"]}]},{title:"UMADIS",icon:"folder_shared",link:"/umadis",onlyAreas:["UMADIS"]},{title:"Nuevo PROPREMI",icon:"add_circle",link:"/propremis/nuevofisica",onlyAreas:["PROPREMI"],childrens:[{title:"Denuncia Física",icon:"person_add",link:"/propremis/nuevofisica",onlyAreas:["PROPREMI"]},{title:"Apoyo Integral",icon:"diversity_1",link:"/propremis/nuevointegral",onlyAreas:["PROPREMI"]}]},{title:"PROPREMIs",icon:"folder_shared",link:"/propremis",onlyAreas:["PROPREMI"]},{title:"Agenda",icon:"event",link:"/agenda",canPerm:"Agenda"},{title:"Líneas de Tiempo",icon:"timeline",link:"/lineas-tiempo",canPerm:"Lineas de Tiempo"},{title:"KPIs",icon:"query_stats",link:"/kpis",canPerm:"Kpis"},{title:"Auditorías",icon:"shield",link:"/auditorias",canPerm:"Auditorias"}];D(()=>{const f=m(o.$store.user?.area),s=C(),k=N=>{if(s)return!0;const R=N?.canPerm;return R?Array.isArray(R)?h(R):b(R):!0},y=N=>{if(s)return!0;const R=V=>V?Array.isArray(V)?V.map(m).includes("ALL"):m(V)==="ALL":!1;return R(N.onlyAreas)||R(N.onlyArea)?!0:N.onlyArea?f?m(N.onlyArea)===f:!1:N.onlyAreas?f?(Array.isArray(N.onlyAreas)?N.onlyAreas:[N.onlyAreas]).map(m).includes(f):!1:!0},B=N=>!!N&&y(N)&&k(N);return r.filter(Boolean).filter(B).map(N=>N.childrens?{...N,childrens:(N.childrens||[]).filter(B)}:N)});async function O(){p.value=!0;try{const{data:f}=await o.$axios.get("/slims/pendientes-resumen");n.value=f,a.value=(f?.pendientesSlim||0)+(f?.pendientesDna||0)+(f?.pendientesSlam||0)+(f?.pendientesUmadis||0)}catch{}finally{p.value=!1}}function L(){o.$router.push({path:"/slims",query:{only_pendientes:1}})}ze(()=>{O()}),$(()=>o.$route.fullPath,()=>{O()});function P(){I.value=!I.value}function w(){o.$alert.dialog("¿Desea salir del sistema?").onOk(()=>{o.$axios.post("/logout").then(()=>{o.$store.isLogged=!1,o.$store.user={},o.$store.permissions=[],localStorage.removeItem("tokenDio"),localStorage.removeItem("user"),o.$router.push("/login")}).catch(()=>o.$alert.error("Error al cerrar sesión. Intente nuevamente."))})}return(f,s)=>{const k=_t("router-view");return d(),c(qt,{view:"lHh Lpr lFf"},{default:e(()=>[t(Lt,{class:"bg-white text-black",bordered:""},{default:e(()=>[t(It,null,{default:e(()=>[t(qe,{flat:"",color:"primary",icon:I.value?"keyboard_double_arrow_left":"keyboard_double_arrow_right","aria-label":"Menú",onClick:P,unelevated:"",dense:""},null,8,["icon"]),E("div",Ot,[E("div",Bt,[s[1]||(s[1]=v(" Panel DIO · GAMO ")),s[2]||(s[2]=E("br",null,null,-1)),f.$store.user?.area?(d(),c(ie,{key:0,color:"grey-3","text-color":"black",size:"10px",dense:""},{default:e(()=>[v(F(f.$store.user?.area),1)]),_:1})):q("",!0),f.$store.user?.zona?(d(),c(ie,{key:1,color:"grey-3","text-color":"black",size:"10px",dense:""},{default:e(()=>[v(F(f.$store.user?.zona),1)]),_:1})):q("",!0)])]),t(Dt),E("div",Qt,[t(qe,{flat:"",round:"",dense:"",icon:a.value>0?"notifications_active":"notifications_none",color:a.value>0?"negative":"grey-7",loading:p.value,"aria-label":"Pendientes"},{default:e(()=>[a.value>0?(d(),c(Le,{key:0,color:"red","text-color":"white",floating:""},{default:e(()=>[v(F(a.value),1)]),_:1})):q("",!0),a.value>0?(d(),c(St,{key:1},{default:e(()=>[v(" Tienes "+F(a.value)+" pendiente(s) ",1)]),_:1})):q("",!0),t(At,null,{default:e(()=>[t(Y,{style:{"min-width":"250px"}},{default:e(()=>[n.value.pendientesSlim>0?A((d(),c(x,{key:0,clickable:"",onClick:L},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"person_add"})]),_:1}),t(u,null,{default:e(()=>[t(_,null,{default:e(()=>s[3]||(s[3]=[v("Denuncias Físicas (SLIM)")])),_:1}),t(_,{caption:""},{default:e(()=>[v(F(n.value.pendientesSlim)+" pendiente(s)",1)]),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),n.value.pendientesDna>0?A((d(),c(x,{key:1,clickable:"",onClick:L},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"gavel"})]),_:1}),t(u,null,{default:e(()=>[t(_,null,{default:e(()=>s[4]||(s[4]=[v("Procesos (DNA)")])),_:1}),t(_,{caption:""},{default:e(()=>[v(F(n.value.pendientesDna)+" pendiente(s)",1)]),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),n.value.pendientesSlam>0?A((d(),c(x,{key:2,clickable:"",onClick:L},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"person_add"})]),_:1}),t(u,null,{default:e(()=>[t(_,null,{default:e(()=>s[5]||(s[5]=[v("Denuncias Físicas (SLAM)")])),_:1}),t(_,{caption:""},{default:e(()=>[v(F(n.value.pendientesSlam)+" pendiente(s)",1)]),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),n.value.pendientesUmadis>0?A((d(),c(x,{key:3,clickable:"",onClick:L},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"person_add"})]),_:1}),t(u,null,{default:e(()=>[t(_,null,{default:e(()=>s[6]||(s[6]=[v("Denuncias Físicas (UMADIS/PROPREMI)")])),_:1}),t(_,{caption:""},{default:e(()=>[v(F(n.value.pendientesUmadis)+" pendiente(s)",1)]),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),!a.value&&!p.value?(d(),c(x,{key:4,disabled:""},{default:e(()=>[t(u,null,{default:e(()=>[t(_,null,{default:e(()=>s[7]||(s[7]=[v("No tienes pendientes")])),_:1})]),_:1})]),_:1})):q("",!0)]),_:1})]),_:1})]),_:1},8,["icon","color","loading"]),t(Mt,{flat:"",unelevated:"","no-caps":"","dropdown-icon":"expand_more"},{label:e(()=>[E("div",Et,[t(Ie,{rounded:""},{default:e(()=>[f.$store.user?.avatar?(d(),c(Ne,{key:0,src:`${f.$url}/../images/${f.$store.user?.avatar}`,width:"40",height:"40"},null,8,["src"])):(d(),c(S,{key:1,name:"person"}))]),_:1}),E("div",Ft,[E("div",Tt,F(f.$store.user?.username),1),f.$store.user?.role?(d(),c(ie,{key:0,color:"grey-3","text-color":"black",size:"10px",dense:""},{default:e(()=>[v(F(f.$store.user?.role),1)]),_:1})):q("",!0)])])]),default:e(()=>[A((d(),c(x,{clickable:""},{default:e(()=>[t(u,null,{default:e(()=>[t(_,{class:"text-grey-7"},{default:e(()=>s[8]||(s[8]=[v("Permisos asignados")])),_:1}),t(_,{caption:"",class:"q-mt-xs"},{default:e(()=>[E("div",zt,[(d(!0),bt(gt,null,wt(f.$store.permissions||[],(y,B)=>(d(),c(ie,{key:B,dense:"",color:"grey-3","text-color":"black",size:"12px",class:"q-mr-xs q-mb-xs"},{default:e(()=>[v(F(y),1)]),_:2},1024))),128)),f.$store.permissions?.length?q("",!0):(d(),c(Le,{key:0,color:"grey-5",outline:""},{default:e(()=>s[9]||(s[9]=[v("Sin permisos")])),_:1}))])]),_:1})]),_:1})]),_:1})),[[M]]),t(he),A((d(),c(x,{clickable:"",onClick:w},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"logout"})]),_:1}),t(u,null,{default:e(()=>[t(_,null,{default:e(()=>s[10]||(s[10]=[v("Salir")])),_:1})]),_:1})]),_:1})),[[kt],[M]])]),_:1})])]),_:1})]),_:1}),t($t,{modelValue:I.value,"onUpdate:modelValue":s[0]||(s[0]=y=>I.value=y),bordered:"","show-if-above":"",width:220,breakpoint:500,class:"bg-primary text-white"},{default:e(()=>[t(Y,{class:"q-pb-none"},{default:e(()=>[t(_,{header:"",class:"text-center q-pa-none q-pt-md"},{default:e(()=>[t(Ie,{size:"64px",class:"q-mb-sm",rounded:""},{default:e(()=>[t(Ne,{src:"/logo.png",width:"90"})]),_:1}),s[11]||(s[11]=E("div",{class:"text-weight-bold text-white"},"DIO",-1)),s[12]||(s[12]=E("div",{class:"text-caption text-white"},"Dirección de Igualdad de Oportunidades (GAMO)",-1))]),_:1}),t(he,{color:"white",spaced:""}),t(_,{header:"",class:"q-px-md text-grey-3 q-mt-sm"},{default:e(()=>s[13]||(s[13]=[v(" Módulos del Sistema ")])),_:1}),A((d(),c(x,{dense:"",to:"/",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"analytics",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[14]||(s[14]=[v("Dashboard")])),_:1})]),_:1})]),_:1})),[[M]]),b("Usuarios")?A((d(),c(x,{key:0,dense:"",to:"/usuarios",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"people",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[15]||(s[15]=[v("Usuarios")])),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),b("Lineas de Tiempo")?A((d(),c(x,{key:1,dense:"",to:"/lineas-tiempo",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"timeline",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[16]||(s[16]=[v("Líneas de Tiempo")])),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),b("Agenda")?A((d(),c(x,{key:2,dense:"",to:"/agenda",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"event",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[17]||(s[17]=[v("Agenda")])),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),h(["Crear SLIM"])?(d(),c(ee,{key:3,dense:"","expand-separator":"",icon:"add_circle",label:"Nuevo SLIM","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((d(),c(x,{"inset-level":.3,dense:"",to:"/slims/nuevofisica",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"person_add",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[18]||(s[18]=[v("Nueva Denuncia Física")])),_:1})]),_:1})]),_:1})),[[M]]),A((d(),c(x,{"inset-level":.3,dense:"",to:"/slims/nuevointegral",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"diversity_1",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[19]||(s[19]=[v("Nuevo Apoyo Integral")])),_:1})]),_:1})]),_:1})),[[M]])]),_:1})]),_:1})):q("",!0),b("Ver SLIM")?A((d(),c(x,{key:4,dense:"",to:"/slims",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"folder_shared",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[20]||(s[20]=[v("SLIMs")])),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),h(["Crear DNA"])?(d(),c(ee,{key:5,dense:"","expand-separator":"",icon:"gavel",label:"Nuevo DNA","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((d(),c(x,{"inset-level":.3,dense:"",to:"/dnas/nuevo-penal",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"balance",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[21]||(s[21]=[v("Nuevo Proceso Penal")])),_:1})]),_:1})]),_:1})),[[M]]),A((d(),c(x,{"inset-level":.3,dense:"",to:"/dnas/nuevo-familiar",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"family_restroom",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[22]||(s[22]=[v("Nuevo Proceso Familiar")])),_:1})]),_:1})]),_:1})),[[M]]),A((d(),c(x,{"inset-level":.3,dense:"",to:"/dnas/nuevo-nna",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"child_care",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[23]||(s[23]=[v("Nuevo Proceso Niñez y Adolescencia")])),_:1})]),_:1})]),_:1})),[[M]]),A((d(),c(x,{"inset-level":.3,dense:"",to:"/dnas/nuevo-apoyo",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"diversity_1",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[24]||(s[24]=[v("Nuevo Apoyo Integral")])),_:1})]),_:1})]),_:1})),[[M]])]),_:1})]),_:1})):q("",!0),b("Ver DNA")?A((d(),c(x,{key:6,dense:"",to:"/dnas",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"folder_shared",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[25]||(s[25]=[v("DNA (Casos)")])),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),h(["Crear SLAM"])?(d(),c(ee,{key:7,dense:"","expand-separator":"",icon:"add_circle",label:"Nuevo SLAM","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((d(),c(x,{"inset-level":.3,dense:"",to:"/slams/nuevofisica",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"person_add",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[26]||(s[26]=[v("Nueva Denuncia Física")])),_:1})]),_:1})]),_:1})),[[M]]),A((d(),c(x,{"inset-level":.3,dense:"",to:"/slams/nuevointegral",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"diversity_1",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[27]||(s[27]=[v("Nuevo Apoyo Integral")])),_:1})]),_:1})]),_:1})),[[M]])]),_:1})]),_:1})):q("",!0),b("Ver SLAM")?A((d(),c(x,{key:8,dense:"",to:"/slams",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"folder_shared",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[28]||(s[28]=[v("SLAMs")])),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),h(["Crear UMADIS"])?(d(),c(ee,{key:9,dense:"","expand-separator":"",icon:"add_circle",label:"Nuevo UMADIS","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((d(),c(x,{"inset-level":.3,dense:"",to:"/umadis/nuevofisica",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"person_add",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[29]||(s[29]=[v("Nueva Denuncia Física")])),_:1})]),_:1})]),_:1})),[[M]]),A((d(),c(x,{"inset-level":.3,dense:"",to:"/umadis/nuevointegral",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"diversity_1",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[30]||(s[30]=[v("Nuevo Apoyo Integral")])),_:1})]),_:1})]),_:1})),[[M]])]),_:1})]),_:1})):q("",!0),b("Ver UMADIS")?A((d(),c(x,{key:10,dense:"",to:"/umadis",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"folder_shared",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[31]||(s[31]=[v("UMADIS")])),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),h(["Crear PROPREMIS"])?(d(),c(ee,{key:11,dense:"","expand-separator":"",icon:"add_circle",label:"Nuevo PROPREMI","active-class":"menu-active"},{default:e(()=>[t(Y,null,{default:e(()=>[A((d(),c(x,{"inset-level":.3,dense:"",to:"/propremis/nuevofisica",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"person_add",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[32]||(s[32]=[v("Nueva Denuncia Física")])),_:1})]),_:1})]),_:1})),[[M]]),A((d(),c(x,{"inset-level":.3,dense:"",to:"/propremis/nuevointegral",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"diversity_1",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[33]||(s[33]=[v("Nuevo Apoyo Integral")])),_:1})]),_:1})]),_:1})),[[M]])]),_:1})]),_:1})):q("",!0),b("Ver PROMPREMIS")?A((d(),c(x,{key:12,dense:"",to:"/propremis",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"folder_shared",class:"text-white"})]),_:1}),t(u,null,{default:e(()=>[t(_,{class:"text-white"},{default:e(()=>s[34]||(s[34]=[v("PROPREMIs")])),_:1})]),_:1})]),_:1})),[[M]]):q("",!0),t(he,{color:"white",class:"q-mt-md"}),E("div",Rt,[E("div",Vt,"DIO v"+F(f.$version),1),E("div",Ut,"© "+F(new Date().getFullYear())+" Gobierno Autónomo Municipal de Oruro",1)]),A((d(),c(x,{clickable:"",class:"text-white",onClick:w},{default:e(()=>[t(u,{avatar:""},{default:e(()=>[t(S,{name:"logout"})]),_:1}),t(u,null,{default:e(()=>[t(_,null,{default:e(()=>s[35]||(s[35]=[v("Salir")])),_:1})]),_:1})]),_:1})),[[M]])]),_:1})]),_:1},8,["modelValue"]),t(Pt,{class:"bg-grey-2"},{default:e(()=>[t(k)]),_:1})]),_:1})}}},na=ht(Ht,[["__scopeId","data-v-72c96823"]]);export{na as default};
