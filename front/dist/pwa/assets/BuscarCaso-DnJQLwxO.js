import{_ as v,c,o as n,w as o,a as t,Q as y,$ as k,e as m,b as s,a6 as x,f as N,a0 as f,a1 as C,a2 as Q,Z as u,t as r}from"./index-tEaV_suc.js";import{Q as b,a as p}from"./QItem-BFEJhtlp.js";import{Q as B}from"./QList-BY-ybt9S.js";import{Q as I}from"./QPage-CezfwX8s.js";const V={data(){return{loading:!1,searchQuery:"",casos:[],buscado:!1}},mounted(){this.searchQuery="9081769"},methods:{irCaso(d){this.$router.push("/casos/"+d.id)},buscarCaso(){this.loading=!0,this.$axios.get("/casosHistorialDocumentos",{params:{ci:this.searchQuery}}).then(d=>{this.casos=d.data.casos,this.buscado=!0}).catch(()=>{this.casos=[],this.buscado=!0}).finally(()=>{this.loading=!1})}}},h={class:"row"},_={class:"col-12 col-md-6"},D={class:"col-12 col-md-2 flex flex-center"};function w(d,l,S,U,a,g){return n(),c(I,null,{default:o(()=>[t(y,{class:"my-card"},{default:o(()=>[t(m,null,{default:o(()=>l[1]||(l[1]=[s("div",{class:"text-h6"},"Buscar Caso",-1)])),_:1}),t(m,null,{default:o(()=>[s("div",h,[s("div",_,[t(x,{modelValue:a.searchQuery,"onUpdate:modelValue":l[0]||(l[0]=e=>a.searchQuery=e),label:"Ingrese el Numero de caso ,CI nombre completo del caso, NUREJ, CUD",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),s("div",D,[t(N,{icon:"search",label:"Buscar",color:"primary",loading:a.loading,onClick:g.buscarCaso},null,8,["loading","onClick"])])])]),_:1}),a.casos.length>0?(n(),c(m,{key:0},{default:o(()=>[t(b,null,{default:o(()=>[t(p,null,{default:o(()=>[l[9]||(l[9]=s("div",{class:"text-subtitle1"},"Casos encontrados:",-1)),t(B,{bordered:"",separator:""},{default:o(()=>[(n(!0),f(C,null,Q(a.casos,e=>(n(),c(b,{key:e.id,clickable:"",onClick:i=>g.irCaso(e)},{default:o(()=>[t(p,null,{default:o(()=>[s("div",null,[l[2]||(l[2]=s("strong",null,"ID:",-1)),u(" "+r(e.id),1)]),s("div",null,[l[3]||(l[3]=s("strong",null,"Caso:",-1)),u(" "+r(e.caso),1)]),s("div",null,[l[4]||(l[4]=s("strong",null,"Zona:",-1)),u(" "+r(e.zona),1)]),s("div",null,[l[5]||(l[5]=s("strong",null,"Número de Caso:",-1)),u(" "+r(e.caso_numero),1)]),s("div",null,[l[6]||(l[6]=s("strong",null,"Título:",-1)),u(" "+r(e.titulo||"N/A"),1)]),s("div",null,[l[7]||(l[7]=s("strong",null,"Creado:",-1)),u(" "+r(e.creado),1)]),s("div",null,[l[8]||(l[8]=s("strong",null,"Participantes:",-1)),s("ul",null,[(n(!0),f(C,null,Q(e.participa,i=>(n(),f("li",{key:i.ci},r(i.rol)+": "+r(i.nombre)+" (CI: "+r(i.ci)+") ",1))),128))])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})):!a.loading&&a.buscado&&a.casos.length===0?(n(),c(m,{key:1},{default:o(()=>l[10]||(l[10]=[s("div",{class:"text-subtitle1"}," No se encontró ningún caso ",-1)])),_:1})):k("",!0)]),_:1})]),_:1})}const Z=v(V,[["render",w]]);export{Z as default};
