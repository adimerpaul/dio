import{_ as C,Y as k,c as v,o as f,w as s,a0 as b,$ as V,a as o,b as i,f as r,ac as S,Q as _,e as m,d as g,a3 as h,a6 as a,a7 as M,a1 as q,a2 as I}from"./index-De6rFb63.js";import{Q as p}from"./QSelect-B4qxCcaP.js";import{Q as D}from"./QMarkupTable-C5doGxGb.js";import{Q as x}from"./QExpansionItem-B827L9LJ.js";import{Q as F}from"./QForm-DCo0W5qd.js";import{Q as A}from"./QPage-J0181FJh.js";import{M as N}from"./MapPicker-DD68feFR.js";const Q={name:"CasoNuevoUMADIS",components:{MapPicker:N},props:{casoId:{type:[Number,String],default:null},editable:{type:Boolean,default:!1}},data(){return{loading:!1,recognition:null,activeField:null,isListening:!1,oruroCenter:[-17.9667,-67.1167],psicologos:[],abogados:[],sociales:[],sexos:[{label:"Femenino",value:"Femenino"},{label:"Masculino",value:"Masculino"},{label:"Otro",value:"Otro"}],estadosCiviles:["Soltero/a","Casado/a","Divorciado/a","Separado/a","Viudo/a","Unión libre","Otro"],f:{tipo:"UMADIS",zona:"CENTRAL",principal:"",caso_numero:"",caso_fecha_hecho:"",caso_descripcion:"",denunciantes:[{denunciante_nombres:"",denunciante_paterno:"",denunciante_materno:"",denunciante_documento:"Carnet de identidad",denunciante_nro:"",denunciante_sexo:"",denunciante_lugar_nacimiento:"",denunciante_fecha_nacimiento:"",denunciante_edad:"",denunciante_telefono:"",denunciante_residencia:"",denunciante_estado_civil:"",denunciante_relacion:"",denunciante_grado:"",denunciante_trabaja:!1,denunciante_ocupacion:"",denunciante_idioma:"",denunciante_domicilio_actual:"",latitud:null,longitud:null}],denunciados:[{denunciado_nombres:"",denunciado_paterno:"",denunciado_materno:"",denunciado_documento:"Carnet de identidad",denunciado_nro:"",denunciado_sexo:"",denunciado_lugar_nacimiento:"",denunciado_fecha_nacimiento:"",denunciado_edad:"",denunciado_telefono:"",denunciado_residencia:"",denunciado_estado_civil:"",denunciado_relacion:"",denunciado_grado:"",denunciado_ocupacion:"",denunciado_idioma:"",denunciado_domicilio_actual:"",denunciado_latitud:null,denunciado_longitud:null}],familiares:[],psicologica_user_id:null,trabajo_social_user_id:null,legal_user_id:null}}},computed:{denunciantePos:{get(){const d=this.f.denunciantes?.[0]||{};return{latitud:d.latitud,longitud:d.longitud}},set(d){this.f.denunciantes?.length&&(this.f.denunciantes[0].latitud=d?.latitud??d?.lat??null,this.f.denunciantes[0].longitud=d?.longitud??d?.lng??null)}}},mounted(){if(this.$axios.get("/usuariosRole").then(d=>{this.psicologos=d.data.psicologos||[],this.abogados=d.data.abogados||[],this.sociales=d.data.sociales||[]}).catch(()=>this.$alert?.error?.("No se pudo cargar los usuarios por rol")),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){const d=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new d,this.recognition.lang="es-ES",this.recognition.interimResults=!1,this.recognition.continuous=!1,this.recognition.onstart=()=>{this.isListening=!0},this.recognition.onend=()=>{this.isListening=!1,this.activeField=null},this.recognition.onresult=e=>{const c=e.results[0][0].transcript;this.activeField==="caso_descripcion"&&(this.f.caso_descripcion=(this.f.caso_descripcion?this.f.caso_descripcion+" ":"")+c)}}this.getCaso()},methods:{getCaso(){!this.editable||!this.casoId||(this.loading=!0,this.$axios.get(`/casos/${this.casoId}`).then(d=>{const e=d.data||{};(!e.denunciantes||!e.denunciantes.length)&&(e.denunciantes=[this.f.denunciantes[0]]),(!e.denunciados||!e.denunciados.length)&&(e.denunciados=[this.f.denunciados[0]]),e.familiares||(e.familiares=[]),this.f={...this.f,...e,tipo:"UMADIS"}}).catch(()=>this.$alert?.error?.("No se pudo cargar el caso")).finally(()=>{this.loading=!1}))},req(d){return!!d||"Requerido"},addFam(){this.f.familiares.push({familiar_nombres:"",familiar_paterno:"",familiar_materno:"",familiar_edad:null,familiar_parentesco:"",familiar_estado_civil:"",familiar_ocupacion:"",familiar_telefono:""})},resetForm(){const d={tipo:"UMADIS",zona:this.f.zona};this.f={...d,principal:"",caso_numero:"",caso_fecha_hecho:"",caso_descripcion:"",denunciantes:[{...this.$options.data().f.denunciantes[0]}],denunciados:[{...this.$options.data().f.denunciados[0]}],familiares:[],psicologica_user_id:null,trabajo_social_user_id:null,legal_user_id:null},this.$q.notify({type:"info",message:"Formulario reiniciado"})},autoEdad(d){const e=d==="denunciado"?"denunciados":"denunciantes",c=this.f[e]?.[0];if(!c?.[`${d}_fecha_nacimiento`])return;const U=new Date(c[`${d}_fecha_nacimiento`]),t=Math.floor((new Date-U)/(1e3*60*60*24*365.25));c[`${d}_edad`]=isFinite(t)?t:""},toggleRecognition(d){if(!this.recognition){this.$q.notify({color:"negative",message:"El navegador no soporta micrófono."});return}if(this.isListening&&this.activeField===d){try{this.recognition.stop()}catch{}return}if(this.isListening)try{this.recognition.stop()}catch{}this.activeField=d;try{this.recognition.start()}catch{}},async update(){if(!this.f.principal){this.$alert?.error?.("La tipología principal es obligatoria");return}this.loading=!0;try{await this.$axios.put(`/casos/${this.casoId}`,this.f),this.$alert?.success?.("Caso UMADIS actualizado"),this.$router.push(`/casos/${this.casoId}`)}catch(d){this.$alert?.error?.(d?.response?.data?.message||"No se pudo actualizar el caso")}finally{this.loading=!1}},async save(){if(!this.f.principal||!this.f.denunciantes[0].denunciante_nombres){this.$alert?.error?.("Tipología y nombre del denunciante son obligatorios");return}this.loading=!0;try{const d=await this.$axios.post("/casos",{...this.f,tipo:"UMADIS"}),e=d?.data?.id||d?.data?.caso?.id;this.$alert?.success?.("Caso UMADIS creado"),e?this.$router.push(`/casos/${e}`):this.$router.push("/casos?tipo=UMADIS")}catch(d){this.$alert?.error?.(d?.response?.data?.message||"No se pudo crear el caso UMADIS")}finally{this.loading=!1}}}},R={key:0,class:"toolbar q-pa-sm bg-white row items-center q-gutter-sm shadow-1"},E={class:"col-auto row q-gutter-sm"},L={key:1,class:"q-mb-sm text-right"},z={class:"row q-col-gutter-md"},j={class:"col-12 col-md-3"},P={class:"col-12 col-md-5"},B={class:"col-6 col-md-2"},T={class:"col-6 col-md-2"},O={class:"row q-col-gutter-md"},G={class:"col-12 col-md-3"},Y={class:"col-6 col-md-3"},Z={class:"col-6 col-md-3"},H={class:"col-6 col-md-3"},J={class:"col-6 col-md-3"},K={class:"col-6 col-md-3"},W={class:"col-12 col-md-3"},X={class:"col-12 col-md-3"},$={class:"col-6 col-md-2"},ee={class:"col-6 col-md-3"},ne={class:"col-6 col-md-3"},le={class:"col-12 col-md-3"},oe={class:"col-12 col-md-3"},ie={class:"col-12 col-md-3"},ae={class:"col-12 col-md-3"},de={class:"col-12 col-md-3"},se={class:"col-12 col-md-3"},te={class:"col-12 col-md-7"},ue={class:"col-12 col-md-2"},ce={class:"col-12"},re={class:"q-mb-sm"},me={class:"row q-col-gutter-xs"},_e={class:"col"},fe={class:"col-6 col-md-3"},pe={class:"col-6 col-md-3"},be={class:"text-center"},Ve={key:0,class:"text-grey text-caption"},ge={class:"row q-col-gutter-md"},ve={class:"col-12 col-md-3"},he={class:"col-6 col-md-3"},Ue={class:"col-6 col-md-3"},ye={class:"col-6 col-md-3"},xe={class:"col-6 col-md-3"},we={class:"col-6 col-md-3"},Ce={class:"col-12 col-md-3"},ke={class:"col-12 col-md-3"},Se={class:"col-6 col-md-2"},Me={class:"col-6 col-md-3"},qe={class:"col-6 col-md-3"},Ie={class:"col-6 col-md-3"},De={class:"col-6 col-md-3"},Fe={class:"col-6 col-md-3"},Ae={class:"col-6 col-md-3"},Ne={class:"col-12 col-md-6"},Qe={class:"col-12 col-md-6"},Re={class:"row q-col-gutter-md"},Ee={class:"col-12 col-md-4"},Le={class:"col-12 col-md-4"},ze={class:"col-12 col-md-4"},je={class:"text-right q-mb-lg"};function Pe(d,e,c,U,l,t){const w=k("MapPicker");return f(),v(A,{class:"q-pa-md bg-grey-2"},{default:s(()=>[c.editable?V("",!0):(f(),b("div",R,[e[48]||(e[48]=i("div",{class:"col"},[i("div",{class:"text-h6 text-weight-bold"},"Registro de Denuncias — UMADIS"),i("div",{class:"text-caption text-grey-7"},"Nuevo caso · Servicio Legal Integral Municipal (UMADIS)")],-1)),i("div",E,[o(r,{flat:"",color:"primary",icon:"history",label:"Limpiar",onClick:t.resetForm},null,8,["onClick"]),o(r,{color:"primary",icon:"save",label:"Guardar",loading:l.loading,onClick:t.save},null,8,["loading","onClick"])])])),c.editable?(f(),b("div",L,[o(r,{flat:"",color:"primary",icon:"refresh",label:"Recargar",onClick:t.getCaso,class:"q-mr-sm"},null,8,["onClick"]),o(r,{color:"primary",icon:"save",label:"Actualizar",loading:l.loading,onClick:t.update},null,8,["loading","onClick"])])):V("",!0),o(F,{class:"q-mt-lg",onSubmit:S(t.save,["prevent"])},{default:s(()=>[o(_,{flat:"",bordered:"",class:"section-card"},{default:s(()=>[o(m,{class:"row items-center"},{default:s(()=>[o(g,{name:"assignment",class:"q-mr-sm"}),e[49]||(e[49]=i("div",{class:"text-subtitle1 text-weight-medium"},"1) Encabezado",-1))]),_:1}),o(h),o(m,null,{default:s(()=>[i("div",z,[i("div",j,[o(a,{modelValue:l.f.caso_fecha_hecho,"onUpdate:modelValue":e[0]||(e[0]=n=>l.f.caso_fecha_hecho=n),type:"date",dense:"",outlined:"",label:"Fecha de registro"},null,8,["modelValue"])]),i("div",P,[o(a,{modelValue:l.f.principal,"onUpdate:modelValue":e[1]||(e[1]=n=>l.f.principal=n),dense:"",outlined:"",clearable:"",label:"Tipología del hecho principal *",rules:[t.req]},null,8,["modelValue","rules"])]),i("div",B,[o(a,{modelValue:l.f.zona,"onUpdate:modelValue":e[2]||(e[2]=n=>l.f.zona=n),dense:"",outlined:"",clearable:"",label:"Módulo / Zona"},null,8,["modelValue"])]),i("div",T,[o(a,{modelValue:l.f.caso_numero,"onUpdate:modelValue":e[3]||(e[3]=n=>l.f.caso_numero=n),dense:"",outlined:"",clearable:"",label:"N° caso (si corresponde)",readonly:""},null,8,["modelValue"])])])]),_:1})]),_:1}),o(_,{flat:"",bordered:"",class:"section-card"},{default:s(()=>[o(_,null,{default:s(()=>[o(m,{class:"row items-center"},{default:s(()=>[o(g,{name:"assignment",class:"q-mr-sm"}),e[50]||(e[50]=i("div",{class:"text-subtitle1 text-weight-medium"},"2) Datos del/la denunciante",-1))]),_:1}),o(m,null,{default:s(()=>[i("div",O,[i("div",G,[o(a,{modelValue:l.f.denunciantes[0].denunciante_nombres,"onUpdate:modelValue":e[4]||(e[4]=n=>l.f.denunciantes[0].denunciante_nombres=n),dense:"",outlined:"",clearable:"",label:"Nombres *",rules:[t.req]},null,8,["modelValue","rules"])]),i("div",Y,[o(a,{modelValue:l.f.denunciantes[0].denunciante_paterno,"onUpdate:modelValue":e[5]||(e[5]=n=>l.f.denunciantes[0].denunciante_paterno=n),dense:"",outlined:"",clearable:"",label:"Ap. paterno"},null,8,["modelValue"])]),i("div",Z,[o(a,{modelValue:l.f.denunciantes[0].denunciante_materno,"onUpdate:modelValue":e[6]||(e[6]=n=>l.f.denunciantes[0].denunciante_materno=n),dense:"",outlined:"",clearable:"",label:"Ap. materno"},null,8,["modelValue"])]),i("div",H,[o(p,{modelValue:l.f.denunciantes[0].denunciante_sexo,"onUpdate:modelValue":e[7]||(e[7]=n=>l.f.denunciantes[0].denunciante_sexo=n),options:l.sexos,"emit-value":"","map-options":"",dense:"",outlined:"",label:"Sexo"},null,8,["modelValue","options"])]),i("div",J,[o(p,{modelValue:l.f.denunciantes[0].denunciante_documento,"onUpdate:modelValue":e[8]||(e[8]=n=>l.f.denunciantes[0].denunciante_documento=n),options:d.$documentos,"emit-value":"","map-options":"",dense:"",outlined:"",label:"Documento"},null,8,["modelValue","options"])]),i("div",K,[o(a,{modelValue:l.f.denunciantes[0].denunciante_nro,"onUpdate:modelValue":e[9]||(e[9]=n=>l.f.denunciantes[0].denunciante_nro=n),dense:"",outlined:"",clearable:"",label:"N° documento"},null,8,["modelValue"])]),i("div",W,[o(a,{modelValue:l.f.denunciantes[0].denunciante_fecha_nacimiento,"onUpdate:modelValue":[e[10]||(e[10]=n=>l.f.denunciantes[0].denunciante_fecha_nacimiento=n),e[11]||(e[11]=n=>t.autoEdad("denunciante"))],type:"date",dense:"",outlined:"",label:"Fecha de nacimiento"},null,8,["modelValue"])]),i("div",X,[o(a,{modelValue:l.f.denunciantes[0].denunciante_lugar_nacimiento,"onUpdate:modelValue":e[12]||(e[12]=n=>l.f.denunciantes[0].denunciante_lugar_nacimiento=n),dense:"",outlined:"",clearable:"",label:"Lugar de nacimiento"},null,8,["modelValue"])]),i("div",$,[o(a,{modelValue:l.f.denunciantes[0].denunciante_edad,"onUpdate:modelValue":e[13]||(e[13]=n=>l.f.denunciantes[0].denunciante_edad=n),modelModifiers:{number:!0},type:"number",dense:"",outlined:"",label:"Edad"},null,8,["modelValue"])]),i("div",ee,[o(a,{modelValue:l.f.denunciantes[0].denunciante_residencia,"onUpdate:modelValue":e[14]||(e[14]=n=>l.f.denunciantes[0].denunciante_residencia=n),dense:"",outlined:"",clearable:"",label:"Residencia habitual"},null,8,["modelValue"])]),i("div",ne,[o(p,{modelValue:l.f.denunciantes[0].denunciante_estado_civil,"onUpdate:modelValue":e[15]||(e[15]=n=>l.f.denunciantes[0].denunciante_estado_civil=n),options:l.estadosCiviles,dense:"",outlined:"",label:"Estado civil"},null,8,["modelValue","options"])]),i("div",le,[o(a,{modelValue:l.f.denunciantes[0].denunciante_relacion,"onUpdate:modelValue":e[16]||(e[16]=n=>l.f.denunciantes[0].denunciante_relacion=n),dense:"",outlined:"",clearable:"",label:"Relación con el denunciado/a"},null,8,["modelValue"])]),i("div",oe,[o(a,{modelValue:l.f.denunciantes[0].denunciante_grado,"onUpdate:modelValue":e[17]||(e[17]=n=>l.f.denunciantes[0].denunciante_grado=n),dense:"",outlined:"",clearable:"",label:"Grado de instrucción"},null,8,["modelValue"])]),i("div",ie,[o(M,{modelValue:l.f.denunciantes[0].denunciante_trabaja,"onUpdate:modelValue":e[18]||(e[18]=n=>l.f.denunciantes[0].denunciante_trabaja=n),label:"Trabaja"},null,8,["modelValue"])]),i("div",ae,[o(a,{modelValue:l.f.denunciantes[0].denunciante_ocupacion,"onUpdate:modelValue":e[19]||(e[19]=n=>l.f.denunciantes[0].denunciante_ocupacion=n),dense:"",outlined:"",clearable:"",label:"Ocupación"},null,8,["modelValue"])]),i("div",de,[o(a,{modelValue:l.f.denunciantes[0].denunciante_idioma,"onUpdate:modelValue":e[20]||(e[20]=n=>l.f.denunciantes[0].denunciante_idioma=n),dense:"",outlined:"",clearable:"",label:"Idioma"},null,8,["modelValue"])]),i("div",se,[o(a,{modelValue:l.f.denunciantes[0].denunciante_telefono,"onUpdate:modelValue":e[21]||(e[21]=n=>l.f.denunciantes[0].denunciante_telefono=n),dense:"",outlined:"",clearable:"",label:"Teléfono de referencia"},null,8,["modelValue"])]),i("div",te,[o(a,{modelValue:l.f.denunciantes[0].denunciante_domicilio_actual,"onUpdate:modelValue":e[22]||(e[22]=n=>l.f.denunciantes[0].denunciante_domicilio_actual=n),dense:"",outlined:"",clearable:"",label:"Domicilio actual"},null,8,["modelValue"])]),i("div",ue,[o(r,{outline:"",label:"Buscar en mapa",onClick:e[23]||(e[23]=n=>d.$refs.denMap?.geocodeAndFly(l.f.denunciantes[0].denunciante_domicilio_actual))})]),i("div",ce,[o(w,{modelValue:t.denunciantePos,"onUpdate:modelValue":e[24]||(e[24]=n=>t.denunciantePos=n),center:l.oruroCenter,address:l.f.denunciantes[0].denunciante_domicilio_actual,country:"bo",ref:"denMap"},null,8,["modelValue","center","address"])])])]),_:1})]),_:1})]),_:1}),o(_,{flat:"",bordered:"",class:"section-card"},{default:s(()=>[o(x,{icon:"diversity_3","dense-toggle":"","expand-separator":"",label:"3) Grupo familiar","header-class":"text-subtitle1"},{default:s(()=>[o(_,null,{default:s(()=>[o(m,null,{default:s(()=>[i("div",re,[o(r,{dense:"",icon:"add",color:"primary",label:"Agregar familiar",onClick:t.addFam},null,8,["onClick"])]),o(D,{dense:"",flat:"",bordered:""},{default:s(()=>[e[51]||(e[51]=i("thead",null,[i("tr",{class:"bg-blue-1 text-blue-10"},[i("th",null,"Nombres y apellidos"),i("th",{style:{width:"90px"}},"Edad"),i("th",{style:{width:"160px"}},"Parentesco"),i("th",{style:{width:"160px"}},"Estado civil"),i("th",null,"Ocupación"),i("th",{style:{width:"160px"}},"Celular"),i("th",{style:{width:"56px"}})])],-1)),i("tbody",null,[(f(!0),b(q,null,I(l.f.familiares,(n,y)=>(f(),b("tr",{key:"g"+y},[i("td",me,[i("div",_e,[o(a,{modelValue:n.familiar_nombres,"onUpdate:modelValue":u=>n.familiar_nombres=u,dense:"",outlined:"",placeholder:"Nombres"},null,8,["modelValue","onUpdate:modelValue"])]),i("div",fe,[o(a,{modelValue:n.familiar_paterno,"onUpdate:modelValue":u=>n.familiar_paterno=u,dense:"",outlined:"",placeholder:"Paterno"},null,8,["modelValue","onUpdate:modelValue"])]),i("div",pe,[o(a,{modelValue:n.familiar_materno,"onUpdate:modelValue":u=>n.familiar_materno=u,dense:"",outlined:"",placeholder:"Materno"},null,8,["modelValue","onUpdate:modelValue"])])]),i("td",null,[o(a,{modelValue:n.familiar_edad,"onUpdate:modelValue":u=>n.familiar_edad=u,modelModifiers:{number:!0},type:"number",dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),i("td",null,[o(a,{modelValue:n.familiar_parentesco,"onUpdate:modelValue":u=>n.familiar_parentesco=u,dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),i("td",null,[o(a,{modelValue:n.familiar_estado_civil,"onUpdate:modelValue":u=>n.familiar_estado_civil=u,dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),i("td",null,[o(a,{modelValue:n.familiar_ocupacion,"onUpdate:modelValue":u=>n.familiar_ocupacion=u,dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),i("td",null,[o(a,{modelValue:n.familiar_telefono,"onUpdate:modelValue":u=>n.familiar_telefono=u,dense:"",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),i("td",be,[o(r,{flat:"",dense:"",round:"",icon:"delete",color:"negative",onClick:u=>l.f.familiares.splice(y,1)},null,8,["onClick"])])]))),128))])]),_:1}),l.f.familiares.length?V("",!0):(f(),b("div",Ve,"Sin integrantes registrados"))]),_:1})]),_:1})]),_:1})]),_:1}),o(_,{flat:"",bordered:"",class:"section-card"},{default:s(()=>[o(x,{icon:"person_off","dense-toggle":"","expand-separator":"",label:"4) Datos de la persona denunciada","header-class":"text-subtitle1"},{default:s(()=>[o(_,null,{default:s(()=>[o(m,null,{default:s(()=>[i("div",ge,[i("div",ve,[o(a,{modelValue:l.f.denunciados[0].denunciado_nombres,"onUpdate:modelValue":e[25]||(e[25]=n=>l.f.denunciados[0].denunciado_nombres=n),dense:"",outlined:"",clearable:"",label:"Nombres"},null,8,["modelValue"])]),i("div",he,[o(a,{modelValue:l.f.denunciados[0].denunciado_paterno,"onUpdate:modelValue":e[26]||(e[26]=n=>l.f.denunciados[0].denunciado_paterno=n),dense:"",outlined:"",clearable:"",label:"Ap. paterno"},null,8,["modelValue"])]),i("div",Ue,[o(a,{modelValue:l.f.denunciados[0].denunciado_materno,"onUpdate:modelValue":e[27]||(e[27]=n=>l.f.denunciados[0].denunciado_materno=n),dense:"",outlined:"",clearable:"",label:"Ap. materno"},null,8,["modelValue"])]),i("div",ye,[o(p,{modelValue:l.f.denunciados[0].denunciado_sexo,"onUpdate:modelValue":e[28]||(e[28]=n=>l.f.denunciados[0].denunciado_sexo=n),options:l.sexos,"emit-value":"","map-options":"",dense:"",outlined:"",label:"Sexo"},null,8,["modelValue","options"])]),i("div",xe,[o(p,{modelValue:l.f.denunciados[0].denunciado_documento,"onUpdate:modelValue":e[29]||(e[29]=n=>l.f.denunciados[0].denunciado_documento=n),options:d.$documentos,"emit-value":"","map-options":"",dense:"",outlined:"",label:"Documento"},null,8,["modelValue","options"])]),i("div",we,[o(a,{modelValue:l.f.denunciados[0].denunciado_nro,"onUpdate:modelValue":e[30]||(e[30]=n=>l.f.denunciados[0].denunciado_nro=n),dense:"",outlined:"",clearable:"",label:"N° documento"},null,8,["modelValue"])]),i("div",Ce,[o(a,{modelValue:l.f.denunciados[0].denunciado_fecha_nacimiento,"onUpdate:modelValue":[e[31]||(e[31]=n=>l.f.denunciados[0].denunciado_fecha_nacimiento=n),e[32]||(e[32]=n=>t.autoEdad("denunciado"))],type:"date",dense:"",outlined:"",label:"Fecha de nacimiento"},null,8,["modelValue"])]),i("div",ke,[o(a,{modelValue:l.f.denunciados[0].denunciado_lugar_nacimiento,"onUpdate:modelValue":e[33]||(e[33]=n=>l.f.denunciados[0].denunciado_lugar_nacimiento=n),dense:"",outlined:"",clearable:"",label:"Lugar de nacimiento"},null,8,["modelValue"])]),i("div",Se,[o(a,{modelValue:l.f.denunciados[0].denunciado_edad,"onUpdate:modelValue":e[34]||(e[34]=n=>l.f.denunciados[0].denunciado_edad=n),modelModifiers:{number:!0},type:"number",dense:"",outlined:"",label:"Edad"},null,8,["modelValue"])]),i("div",Me,[o(a,{modelValue:l.f.denunciados[0].denunciado_residencia,"onUpdate:modelValue":e[35]||(e[35]=n=>l.f.denunciados[0].denunciado_residencia=n),dense:"",outlined:"",clearable:"",label:"Residencia habitual"},null,8,["modelValue"])]),i("div",qe,[o(a,{modelValue:l.f.denunciados[0].denunciado_estado_civil,"onUpdate:modelValue":e[36]||(e[36]=n=>l.f.denunciados[0].denunciado_estado_civil=n),dense:"",outlined:"",clearable:"",label:"Estado civil"},null,8,["modelValue"])]),i("div",Ie,[o(a,{modelValue:l.f.denunciados[0].denunciado_idioma,"onUpdate:modelValue":e[37]||(e[37]=n=>l.f.denunciados[0].denunciado_idioma=n),dense:"",outlined:"",clearable:"",label:"Idioma"},null,8,["modelValue"])]),i("div",De,[o(a,{modelValue:l.f.denunciados[0].denunciado_grado,"onUpdate:modelValue":e[38]||(e[38]=n=>l.f.denunciados[0].denunciado_grado=n),dense:"",outlined:"",clearable:"",label:"Grado de instrucción"},null,8,["modelValue"])]),i("div",Fe,[o(a,{modelValue:l.f.denunciados[0].denunciado_ocupacion,"onUpdate:modelValue":e[39]||(e[39]=n=>l.f.denunciados[0].denunciado_ocupacion=n),dense:"",outlined:"",clearable:"",label:"Ocupación"},null,8,["modelValue"])]),i("div",Ae,[o(a,{modelValue:l.f.denunciados[0].denunciado_telefono,"onUpdate:modelValue":e[40]||(e[40]=n=>l.f.denunciados[0].denunciado_telefono=n),dense:"",outlined:"",clearable:"",label:"Teléfono"},null,8,["modelValue"])]),i("div",Ne,[o(a,{modelValue:l.f.denunciados[0].denunciado_domicilio_actual,"onUpdate:modelValue":e[41]||(e[41]=n=>l.f.denunciados[0].denunciado_domicilio_actual=n),dense:"",outlined:"",clearable:"",label:"Dirección actual"},null,8,["modelValue"])]),i("div",Qe,[o(a,{modelValue:l.f.denunciados[0].denunciado_relacion,"onUpdate:modelValue":e[42]||(e[42]=n=>l.f.denunciados[0].denunciado_relacion=n),dense:"",outlined:"",clearable:"",label:"Relación con la denunciante"},null,8,["modelValue"])])])]),_:1})]),_:1})]),_:1})]),_:1}),o(_,{flat:"",bordered:"",class:"section-card"},{default:s(()=>[o(m,{class:"row items-center"},{default:s(()=>[o(g,{name:"description",class:"q-mr-sm"}),e[52]||(e[52]=i("div",{class:"text-subtitle1 text-weight-medium"},"5) Breve circunstancia del hecho / denuncia",-1))]),_:1}),o(h),o(m,null,{default:s(()=>[o(a,{modelValue:l.f.caso_descripcion,"onUpdate:modelValue":e[44]||(e[44]=n=>l.f.caso_descripcion=n),type:"textarea",autogrow:"",outlined:"",dense:"",clearable:"",label:"Descripción",maxlength:"5000",counter:""},{append:s(()=>[o(g,{name:"mic",class:"cursor-pointer",color:l.isListening&&l.activeField==="caso_descripcion"?"red":"grey-7",onClick:e[43]||(e[43]=n=>t.toggleRecognition("caso_descripcion"))},null,8,["color"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(_,{flat:"",bordered:"",class:"section-card q-mb-xl"},{default:s(()=>[o(m,{class:"row items-center"},{default:s(()=>[o(g,{name:"task_alt",class:"q-mr-sm"}),e[53]||(e[53]=i("div",{class:"text-subtitle1 text-weight-medium"},"6) Seguimiento del caso",-1))]),_:1}),o(h),o(m,null,{default:s(()=>[i("div",Re,[i("div",Ee,[o(p,{modelValue:l.f.psicologica_user_id,"onUpdate:modelValue":e[45]||(e[45]=n=>l.f.psicologica_user_id=n),dense:"",outlined:"","emit-value":"","map-options":"",clearable:"",options:l.psicologos.map(n=>({label:n.name,value:n.id})),label:"Área psicológica (responsable)"},null,8,["modelValue","options"])]),i("div",Le,[o(p,{modelValue:l.f.trabajo_social_user_id,"onUpdate:modelValue":e[46]||(e[46]=n=>l.f.trabajo_social_user_id=n),dense:"",outlined:"","emit-value":"","map-options":"",clearable:"",options:l.sociales.map(n=>({label:n.name,value:n.id})),label:"Área social (responsable)"},null,8,["modelValue","options"])]),i("div",ze,[o(p,{modelValue:l.f.legal_user_id,"onUpdate:modelValue":e[47]||(e[47]=n=>l.f.legal_user_id=n),dense:"",outlined:"","emit-value":"","map-options":"",clearable:"",options:l.abogados.map(n=>({label:n.name,value:n.id})),label:"Área legal (responsable)"},null,8,["modelValue","options"])])])]),_:1})]),_:1}),i("div",je,[o(r,{flat:"",color:"primary",icon:"history",label:"Limpiar",onClick:t.resetForm,class:"q-mr-sm"},null,8,["onClick"]),c.editable?V("",!0):(f(),v(r,{key:0,color:"primary",icon:"save",label:"Guardar",loading:l.loading,onClick:t.save},null,8,["loading","onClick"])),c.editable?(f(),v(r,{key:1,color:"primary",icon:"save",label:"Actualizar",loading:l.loading,onClick:t.update},null,8,["loading","onClick"])):V("",!0)])]),_:1},8,["onSubmit"])]),_:1})}const Je=C(Q,[["render",Pe],["__scopeId","data-v-c10456c1"]]);export{Je as N};
