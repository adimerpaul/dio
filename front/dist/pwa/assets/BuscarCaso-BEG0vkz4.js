import{_ as y,c as d,o as r,w as e,a as t,Q as k,$ as v,e as c,b as l,a6 as x,f as h,a0 as f,a1 as C,a2 as Q,Z as m,t as n}from"./index-BlALaKB-.js";import{Q as b,a as p}from"./QItem-BJnk-pBW.js";import{Q as B}from"./QList-BRNGn172.js";import{Q as _}from"./QPage-D6gaQiel.js";const I={data(){return{loading:!1,searchQuery:"",casos:[],buscado:!1}},mounted(){this.searchQuery="9081769"},methods:{irCaso(i){this.$router.push("/casos/"+i.id)},buscarCaso(){this.loading=!0,this.$axios.get("/casosHistorialDocumentos",{params:{ci:this.searchQuery}}).then(i=>{this.casos=i.data.casos,this.buscado=!0}).catch(()=>{this.casos=[],this.buscado=!0}).finally(()=>{this.loading=!1})}}},V={class:"row"},N={class:"col-12 col-md-6"},w={class:"col-12 col-md-2 flex flex-center"};function D(i,s,S,L,a,g){return r(),d(_,null,{default:e(()=>[t(k,{class:"my-card"},{default:e(()=>[t(c,null,{default:e(()=>s[1]||(s[1]=[l("div",{class:"text-h6"},"Buscar Caso",-1)])),_:1}),t(c,null,{default:e(()=>[l("div",V,[l("div",N,[t(x,{modelValue:a.searchQuery,"onUpdate:modelValue":s[0]||(s[0]=o=>a.searchQuery=o),label:"Ingrese el CI nombre completo del caso",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),l("div",w,[t(h,{icon:"search",label:"Buscar",color:"primary",loading:a.loading,onClick:g.buscarCaso},null,8,["loading","onClick"])])])]),_:1}),a.casos.length>0?(r(),d(c,{key:0},{default:e(()=>[t(b,null,{default:e(()=>[t(p,null,{default:e(()=>[s[7]||(s[7]=l("div",{class:"text-subtitle1"},"Casos encontrados:",-1)),t(B,{bordered:"",separator:""},{default:e(()=>[(r(!0),f(C,null,Q(a.casos,o=>(r(),d(b,{key:o.id,clickable:"",onClick:u=>g.irCaso(o)},{default:e(()=>[t(p,null,{default:e(()=>[l("div",null,[s[2]||(s[2]=l("strong",null,"ID:",-1)),m(" "+n(o.id),1)]),l("div",null,[s[3]||(s[3]=l("strong",null,"Caso:",-1)),m(" "+n(o.caso),1)]),l("div",null,[s[4]||(s[4]=l("strong",null,"Título:",-1)),m(" "+n(o.titulo||"N/A"),1)]),l("div",null,[s[5]||(s[5]=l("strong",null,"Creado:",-1)),m(" "+n(o.creado),1)]),l("div",null,[s[6]||(s[6]=l("strong",null,"Participantes:",-1)),l("ul",null,[(r(!0),f(C,null,Q(o.participa,u=>(r(),f("li",{key:u.ci},n(u.rol)+": "+n(u.nombre)+" (CI: "+n(u.ci)+") ",1))),128))])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})):!a.loading&&a.buscado&&a.casos.length===0?(r(),d(c,{key:1},{default:e(()=>s[8]||(s[8]=[l("div",{class:"text-subtitle1"}," No se encontró ningún caso ",-1)])),_:1})):v("",!0)]),_:1})]),_:1})}const F=y(I,[["render",D]]);export{F as default};
